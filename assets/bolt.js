!function(){var e,t={44018:function(e,t,a){"use strict";a(26981),a(32025);var s=a(73138),i=a(9669),l=a.n(i),n=(a(25703),a(19755)),r=a.n(n);a(19755);r(),window.$=r();var o=a(4631),d=a.n(o);a(96876),a(53631),a(16531),a(36702),a(54702),a(36629);window.CodeMirror=d();var c=a(70538),u=a(99490);c.ZP.filter("date",(e=>{if(e)return u.ou.fromISO(String(e)).toLocaleString()})),c.ZP.filter("datetime",(e=>{if(e)return u.ou.fromISO(String(e)).toLocaleString(u.ou.DATETIME_MED)})),c.ZP.filter("slugify",(e=>{if(e){e=String(e);let s={delimiter:"-",lowercase:!0,transliterate:"undefined"==typeof XRegExp},i={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","Ă":"A","Æ":"AE","Ç":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ő":"O","Ø":"O","Ș":"S","Ț":"T","Ù":"U","Ú":"U","Û":"U","Ü":"U","Ű":"U","Ý":"Y","Þ":"TH","ß":"ss","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","ă":"a","æ":"ae","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ő":"o","ø":"o","ș":"s","ț":"t","ù":"u","ú":"u","û":"u","ü":"u","ű":"u","ý":"y","þ":"th","ÿ":"y","©":"(c)","Α":"A","Β":"B","Γ":"G","Δ":"D","Ε":"E","Ζ":"Z","Η":"H","Θ":"8","Ι":"I","Κ":"K","Λ":"L","Μ":"M","Ν":"N","Ξ":"3","Ο":"O","Π":"P","Ρ":"R","Σ":"S","Τ":"T","Υ":"Y","Φ":"F","Χ":"X","Ψ":"PS","Ω":"W","Ά":"A","Έ":"E","Ί":"I","Ό":"O","Ύ":"Y","Ή":"H","Ώ":"W","Ϊ":"I","Ϋ":"Y","α":"a","β":"b","γ":"g","δ":"d","ε":"e","ζ":"z","η":"h","θ":"8","ι":"i","κ":"k","λ":"l","μ":"m","ν":"n","ξ":"3","ο":"o","π":"p","ρ":"r","σ":"s","τ":"t","υ":"y","φ":"f","χ":"x","ψ":"ps","ω":"w","ά":"a","έ":"e","ί":"i","ό":"o","ύ":"y","ή":"h","ώ":"w","ς":"s","ϊ":"i","ΰ":"y","ϋ":"y","ΐ":"i","Ş":"S","İ":"I","Ğ":"G","ş":"s","ı":"i","ğ":"g","А":"A","Б":"B","В":"V","Г":"G","Д":"D","Е":"E","Ё":"Yo","Ж":"Zh","З":"Z","И":"I","Й":"J","К":"K","Л":"L","М":"M","Н":"N","О":"O","П":"P","Р":"R","С":"S","Т":"T","У":"U","Ф":"F","Х":"H","Ц":"C","Ч":"Ch","Ш":"Sh","Щ":"Sh","Ъ":"","Ы":"Y","Ь":"","Э":"E","Ю":"Yu","Я":"Ya","а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ё":"yo","ж":"zh","з":"z","и":"i","й":"j","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"h","ц":"c","ч":"ch","ш":"sh","щ":"sh","ъ":"","ы":"y","ь":"","э":"e","ю":"yu","я":"ya","Є":"Ye","І":"I","Ї":"Yi","Ґ":"G","є":"ye","і":"i","ї":"yi","ґ":"g","Č":"C","Ď":"D","Ě":"E","Ň":"N","Ř":"R","Š":"S","Ť":"T","Ů":"U","Ž":"Z","Ľ":"L","č":"c","ď":"d","ě":"e","ň":"n","ř":"r","š":"s","ť":"t","ů":"u","ž":"z","ľ":"l","Ą":"A","Ć":"C","Ę":"e","Ł":"L","Ń":"N","Ś":"S","Ź":"Z","Ż":"Z","ą":"a","ć":"c","ę":"e","ł":"l","ń":"n","ś":"s","ź":"z","ż":"z","Ā":"A","Ē":"E","Ģ":"G","Ī":"i","Ķ":"k","Ļ":"L","Ņ":"N","Ū":"u","ā":"a","ē":"e","ģ":"g","ī":"i","ķ":"k","ļ":"l","ņ":"n","ū":"u"};if(s.transliterate)for(var t in i)e=e.replace(RegExp(t,"g"),i[t]);var a=RegExp("[^a-z0-9]+","ig");return e=(e=(e=e.replace(a,s.delimiter)).replace(RegExp("["+s.delimiter+"]{2,}","g"),s.delimiter)).replace(RegExp("(^"+s.delimiter+"|"+s.delimiter+"$)","g"),""),(e=s.lowercase?e.toLowerCase():e).replace(/[^\w-]+/g,"")}})),c.ZP.filter("strip",(e=>{if(e)return e.replace(/(^")|("$)/g,"")})),c.ZP.filter("raw",(e=>{if(e){let t=document.createElement("textarea");return t.innerHTML=e,t.value}})),c.ZP.filter("uppercase",(e=>{if(e)return e.toUpperCase()})),c.ZP.filter("trim",((e,t)=>(null==t&&(t=50),e.length>t?e.substring(0,t-1)+"…":e))),r()(document).ready((function(){[].slice.call(document.querySelectorAll(".toast")).map((function(e){return new s.FN(e,[])})).forEach((function(e){e.show()}))}));var m=a(20629);const p={toolbarColor(e,t){e.toolbarColor=t}};var f={toolbarColor:e=>e.toolbarColor},g={namespaced:!0,state:{toolbarColor:null},getters:f,actions:{toolbarColor(e,t){let{commit:a}=e;a("toolbarColor",t)}},mutations:p};c.ZP.use(m.ZP);var h=new m.ZP.Store({modules:{general:g}}),v=function(){var e=this,t=e._self._c;return t("div",{staticClass:"admin__toolbar--body",class:e.contrast?"is-light":"is-dark",attrs:{role:"toolbar"}},[e._m(0),e._v(" "),e.isImpersonator?t("div",{staticClass:"toolbar-impersonation"},[t("a",{staticClass:"btn btn-warning",attrs:{href:e.urlPaths.bolt_dashboard+"?_switch_user=_exit"}},[t("i",{staticClass:"fas fa-sign-out-alt fa-fw"}),e._v("\n            "+e._s(e.labels["action.stop_impersonating"])+"\n        ")])]):e._e(),e._v(" "),t("div",{staticClass:"toolbar-item toolbar-item__site"},[t("a",{staticClass:"text-decoration-none",attrs:{href:"/",target:"_blank"}},[t("i",{staticClass:"fas fa-sign-out-alt"}),e._v(e._s(e.labels["action.view_site"])+"\n        ")])]),e._v(" "),t("form",{staticClass:"toolbar-item toolbar-item__filter input-group",attrs:{action:e.urlPaths.bolt_dashboard}},[t("label",{staticClass:"sr-only",attrs:{for:"global-search"}},[e._v(e._s(e.labels["general.label.search"]))]),e._v(" "),t("input",{staticClass:"form-control",attrs:{id:"global-search",type:"text",placeholder:e.labels["listing.placeholder_search"],title:e.labels["listing.placeholder_search"],name:"filter",required:""},domProps:{value:e.filterValue}}),e._v(" "),t("div",{staticClass:"input-group-append"},[t("button",{staticClass:"btn btn-tertiary toolbar-item__filter--button",attrs:{type:"submit",title:e.labels["listing.button_search"]}},[t("i",{staticClass:"fas fa-search"})])])]),e._v(" "),t("div",{staticClass:"toolbar-item btn-group toolbar-item__profile"},[t("button",{staticClass:"btn user profile__dropdown-toggler dropdown-toggle d-flex align-items-center",attrs:{type:"button","data-bs-toggle":"dropdown","data-display":"static","aria-haspopup":"true","aria-expanded":"false"}},[e.avatar?t("img",{staticClass:"rounded-circle me-2",attrs:{src:e.avatar,alt:"User avatar"}}):t("i",{staticClass:"fas fa-user"}),e._v(e._s(e.labels["general.greeting"])+"\n            "),e.isImpersonator?[e._v("\n                 "),t("span",{staticStyle:{"font-style":"italic"}},[e._v("("+e._s(e.labels["general.is_impersonator"])+")")])]:e._e()],2),e._v(" "),t("div",{staticClass:"profile__dropdown dropdown-menu dropdown-menu-right"},[t("ul",[t("li",[t("a",{staticClass:"text-decoration-none",attrs:{href:e.urlPaths.bolt_profile_edit}},[t("i",{staticClass:"fas fa-user-edit fa-fw"}),e._v("\n                        "+e._s(e.labels["action.edit_profile"])+"\n                    ")])]),e._v(" "),t("li",[t("a",{staticClass:"text-decoration-none",attrs:{href:e.urlPaths.bolt_logout}},[t("i",{staticClass:"fas fa-sign-out-alt fa-fw"}),e._v("\n                        "+e._s(e.labels["action.logout"])+"\n                    ")])]),e._v(" "),t("hr"),e._v(" "),t("li",[t("a",{staticClass:"text-decoration-none",attrs:{href:"https://boltcms.io/",target:"_blank"}},[t("i",{staticClass:"fas fa-globe-americas fa-fw"}),e._v("\n                        "+e._s(e.labels["about.visit_bolt"])+"\n                    ")])]),e._v(" "),t("li",[t("a",{staticClass:"text-decoration-none",attrs:{href:"https://docs.bolt.cm/",target:"_blank"}},[t("i",{staticClass:"fas fa-book fa-fw"}),e._v("\n                        "+e._s(e.labels["about.bolt_documentation"])+"\n                    ")])])])])])])};v._withStripped=!0;const b=a(17621);var _={name:"Toolbar",props:{siteName:String,menu:Array,labels:Object,urlPaths:Object,backendPrefix:String,isImpersonator:Boolean,filterValue:String,avatar:String},computed:{contrast(){return b(this.toolbarColor).isLight()},createMenu(){return this.menu.filter((e=>!e.singleton&&e.singular_name||e.singleton&&(null===e.submenu||e.submenu.length<1)))},toolbarColor(){return this.$store.getters["general/toolbarColor"]}},created(){const e=getComputedStyle(document.body).getPropertyValue("--admin-toolbar");this.$store.dispatch("general/toolbarColor",e)}},y=a(51900),w=(0,y.Z)(_,v,[function(){var e=this._self._c;return e("div",{staticClass:"toolbar-item btn-group toolbar-item__brand"},[e("img",{attrs:{src:"/assets/images/bolt_logo_dashboard.svg",alt:"⚙️ Bolt",height:"26"}})])}],!1,null,null,null).exports;const C="toolbar";document.getElementById(C)&&new c.ZP({store:h,el:"#"+C,name:"BoltToolbar",components:{"admin-toolbar":w}});const S={slimSidebar(e,t){e.slimSidebar=t}};var x={slimSidebar:e=>e.slimSidebar},k={namespaced:!0,state:{slimSidebar:!1},getters:x,actions:{slimSidebar(e,t){let{commit:a}=e;a("slimSidebar",t)}},mutations:S};c.ZP.use(m.ZP);var D=new m.ZP.Store({modules:{general:k}}),I=function(){var e=this,t=e._self._c;return t("nav",{staticClass:"admin__sidebar--nav"},[t("sidebar-menu",{attrs:{menu:e.menu,labels:e.labels}}),e._v(" "),t("sidebar-toggler",{attrs:{version:e.version,"about-link":e.aboutLink,labels:e.labels}}),e._v(" "),t("footer",{staticClass:"admin__sidebar--footer"},[t("a",{attrs:{href:e.aboutLink}},[e._v("Bolt v"),t("span",{staticClass:"sr-only"},[e._v("ersion ")]),e._v(e._s(e.version))])])],1)};I._withStripped=!0;var F=function(){var e=this,t=e._self._c;return t("ul",{staticClass:"admin__sidebar--menu"},e._l(e.menu,(function(a,s){return t("li",{key:s},["separator"===a.type?t("p",{staticClass:"admin__sidebar--separator"},[e._v("\n            "+e._s(a.name)+"\n        ")]):a.singleton?t("a",{staticClass:"admin__sidebar--link text-decoration-none",attrs:{href:e.singleton(a)}},[t("i",{staticClass:"fas me-2 link--icon",class:a.icon}),t("span",{staticClass:"link--text"},[e._v(e._s(a.name))])]):t("a",{staticClass:"admin__sidebar--link text-decoration-none",class:{"has-menu":null!==a.submenu},attrs:{href:a.link}},[t("i",{staticClass:"fas me-2 link--icon",class:a.icon}),t("span",{staticClass:"link--text"},[e._v(e._s(a.name))]),e._v(" "),null!==a.submenu?[t("i",{staticClass:"fas fa-caret-right link--caret"}),e._v(" "),t("sub-menu",{attrs:{item:a,labels:e.labels}})]:e._e()],2)])})),0)};F._withStripped=!0;var $=function(){var e=this,t=e._self._c;return t("ul",{staticClass:"link--menu"},[t("li",{staticClass:"link--actions"},[null!==e.item.link_new?t("a",{staticClass:"text-decoration-none",attrs:{href:e.item.link_new,"data-patience":"virtue"}},[t("i",{staticClass:"fas fa-fw fa-magic me-2"}),t("span",[e._v(e._s(e.labels["action.new"]))])]):e._e(),e._v(" "),t("a",{attrs:{href:e.item.link_listing,"data-patience":"virtue"}},[t("i",{staticClass:"fas fa-fw",class:e.item.icon}),e._v(" "),t("span",[e._v(e._s(e.labels["action.view"])+" "+e._s(e.item.name))])])]),e._v(" "),e._l(e.item.submenu,(function(a,s){return null!==e.item.submenu?t("li",{key:s},[t("a",{staticClass:"text-decoration-none",attrs:{href:a.editLink,"data-patience":"virtue"}},[t("i",{staticClass:"fas fa-fw me-2",class:a.icon}),e._v(" "),a.name?t("span",{domProps:{innerHTML:e._s(a.name)}}):t("span",[t("em",[e._v("(Untitled)")])])])]):e._e()}))],2)};$._withStripped=!0;var E={name:"SubMenu",props:{item:Object,labels:Object}},j={name:"SidebarMenu",components:{"sub-menu":(0,y.Z)(E,$,[],!1,null,null,null).exports},props:{menu:Array,labels:Object},methods:{singleton(e){return e.submenu.length&&null!==e.submenu?e.submenu[0].editLink:e.link_new}}},A=(0,y.Z)(j,F,[],!1,null,null,null).exports,B=function(){var e=this,t=e._self._c;return t("button",{staticClass:"admin__sidebar--slim focus-visible",on:{click:function(t){return e.slimSidebar(!e.slim)}}},[t("i",{staticClass:"fas fa-exchange-alt"}),e._v(" "),t("span",{staticClass:"sr-only"},[e._v(e._s(e.labels.toggler))])])};B._withStripped=!0;var P={name:"SidebarFooter",props:{version:String,aboutLink:String,labels:Object},computed:{slim(){return!!this.$store.getters["general/slimSidebar"]&&this.$store.getters["general/slimSidebar"]}},watch:{slim(){const e=document.querySelector(".admin");this.slim?e.classList.add("is-slim"):e.classList.remove("is-slim"),localStorage.setItem("slim-sidebar",this.slim)}},methods:{slimSidebar(e){this.$store.dispatch("general/slimSidebar",e)}}},L={name:"Sidebar",components:{"sidebar-menu":A,"sidebar-toggler":(0,y.Z)(P,B,[],!1,null,null,null).exports},props:{menu:Array,version:String,aboutLink:String,labels:Object},created(){const e=JSON.parse(localStorage.getItem("slim-sidebar"));e&&this.$store.dispatch("general/slimSidebar",e)}},T=(0,y.Z)(L,I,[],!1,null,null,null).exports;const q="bolt--sidebar";document.getElementById(q)&&new c.ZP({store:D,el:"#"+q,name:"BoltSidebar",components:{"admin-sidebar":T}});const M={setType(e,t){e.type=t},setRowSize(e,t){e.rowSize=t},setSorting(e,t){e.sorting=t}};var Z={getType:e=>e.type,getRowSize:e=>e.rowSize,getSorting:e=>e.sorting},O={namespaced:!0,state:{type:null,rowSize:"normal",sorting:!1},getters:Z,actions:{setType(e,t){let{commit:a}=e;a("setType",t)},setRowSize(e,t){let{commit:a}=e;a("setRowSize",t)},setSorting(e,t){let{commit:a}=e;a("setSorting",t)}},mutations:M};const N={setRecords(e,t){e.records=t}};const z={getRecords:e=>e.records,getOrder(e){return e.records.map((e=>e.id))}};var U={namespaced:!0,state:{records:[]},getters:z,actions:{setRecords(e,t){let{commit:a}=e;a("setRecords",t)}},mutations:N};const R={selectAll(e,t){let{commit:a}=e;a("selectAll",t)},select(e,t){let{commit:a}=e;a("select",t)},deSelect(e,t){let{commit:a}=e;a("deSelect",t)}};const V={selectAll(e,t){e.selectAll=t},select(e,t){e.selectedCount++,e.selected.push(t)},deSelect(e,t){e.selectedCount--;let a=e.selected.indexOf(t);a>-1&&e.selected.splice(a,1)}};var H={selectAll:e=>e.selectAll,selectedCount:e=>e.selectedCount,selected:e=>e.selected},Y={namespaced:!0,state:{selectAll:!1,selectedCount:0,selected:[]},getters:H,actions:R,mutations:V};c.ZP.use(m.ZP);var G=new m.ZP.Store({modules:{general:O,listing:U,selecting:Y}}),J=function(){return(0,this._self._c)("div",{staticClass:"listing-records"})};J._withStripped=!0;var K={name:"ListingRecords",props:{type:String,data:Array,labels:Object},created(){this.$store.dispatch("general/setType",this.type),this.$store.dispatch("listing/setRecords",this.data)}},W=(0,y.Z)(K,J,[],!1,null,null,null).exports,X=function(){var e=this,t=e._self._c;return t("nav",{staticClass:"listing__filter"},[t("ul",{staticClass:"listing__filter--controls"},["dashboard"!==e.type?t("li",{staticClass:"control--checkbox"},[e.sorting?e._e():t("div",{staticClass:"form-check"},[t("input",{staticClass:"form-check-input",attrs:{id:"selectAll",type:"checkbox"},domProps:{value:e.selectAll},on:{click:function(t){return e.enableSelectAll(!e.selectAll)}}}),e._v(" "),t("label",{staticClass:"form-check-label form-label",attrs:{for:"selectAll"},on:{click:function(t){return e.enableSelectAll(!e.selectAll)}}},[t("span",{staticClass:"sr-only"},[e._v(e._s(e.labels.select_all))])])])]):e._e(),e._v(" "),t("li",{staticClass:"control--left"},[t("button",{staticClass:"control--button",class:{"is-selected":"normal"===e.size},attrs:{title:e.labels.button_expanded},on:{click:function(t){return e.changeSize("normal")}}},[t("i",{staticClass:"fas fa-align-justify fa-fw"}),e._v(" "),t("span",{staticClass:"sr-only"},[e._v(e._s(e.labels.button_expanded))])])]),e._v(" "),t("li",[t("button",{staticClass:"control--button",class:{"is-selected":"small"===e.size},attrs:{title:e.labels.button_compact},on:{click:function(t){return e.changeSize("small")}}},[t("i",{staticClass:"fas fa-grip-lines fa-fw"}),e._v(" "),t("span",{staticClass:"sr-only"},[e._v(e._s(e.labels.button_compact))])])])])])};X._withStripped=!0;var Q={computed:{type(){return this.$store.getters["general/getType"]}}},ee={name:"ListingFilter",mixins:[Q],props:{labels:Object},computed:{size(){return this.$store.getters["general/getRowSize"]},sorting(){return this.$store.getters["general/getSorting"]},selectAll(){return this.$store.getters["selecting/selectAll"]}},watch:{sorting(){this.sorting&&this.$store.dispatch("selecting/selectAll",!1)}},created(){const e=localStorage.getItem("listing-row-size");null!==e&&this.$store.dispatch("general/setRowSize",e)},methods:{enableSorting(e){this.$store.dispatch("general/setSorting",e)},enableSelectAll(e){this.$store.dispatch("selecting/selectAll",e)},changeSize(e){this.$store.dispatch("general/setRowSize",e),localStorage.setItem("listing-row-size",e)}}},te=(0,y.Z)(ee,X,[],!1,null,null,null).exports,ae=function(){var e=this,t=e._self._c;return t("div",{staticClass:"listing__records"},[t("draggable",{attrs:{handle:".listing__row--move","force-fallback":"true"},model:{value:e.records,callback:function(t){e.records=t},expression:"records"}},[t("transition-group",e._l(e.records,(function(a){return t("table-row",{key:a.id,attrs:{record:a,labels:e.labels}})})),1)],1)],1)};ae._withStripped=!0;var se=a(9980),ie=a.n(se),le=function(){var e=this,t=e._self._c;return t("transition-group",{staticClass:"listing--container",class:{"is-dashboard":"dashboard"===e.type},attrs:{tag:"div"}},["dashboard"!==e.type?t("row-checkbox",{key:"select",attrs:{id:e.record.id}}):e._e(),e._v(" "),t("div",{key:"row",staticClass:"listing__row",class:`is-${e.size}`},[t("div",{staticClass:"listing__row--item is-details"},[t("a",{staticClass:"listing__row--item-title text-decoration-none",attrs:{href:e.record.extras.editLink,title:e.slug}},[e._v("\n                "+e._s(e._f("raw")(e._f("trim")(e.record.extras.title,62)))+"\n            ")]),e._v(" "),e.record.extras.feature?t("span",{staticClass:"badge",class:`badge-${e.record.extras.feature}`},[e._v(e._s(e.record.extras.feature))]):e._e(),e._v(" "),t("span",{staticClass:"listing__row--item-title-excerpt"},[e._v(e._s(e._f("raw")(e.record.extras.excerpt)))])]),e._v(" "),"normal"===e.size&&e.record.extras.image?t("div",{staticClass:"listing__row--item is-thumbnail"},[t("img",{staticStyle:{width:"108px"},attrs:{src:e.record.extras.image.thumbnail,loading:"lazy",alt:e.record.extras.image.alt}})]):e._e(),e._v(" "),t("row-meta",{attrs:{type:e.type,size:e.size,record:e.record}}),e._v(" "),t("div",{staticClass:"listing__row--item is-excerpt"},[t("span",[e._v(e._s(e.record.extras.excerpt))])]),e._v(" "),t("row-actions",{attrs:{type:e.type,record:e.record,size:e.size,labels:e.labels.actions}})],1)],1)};le._withStripped=!0;var ne=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"show",rawName:"v-show",value:!e.sorting,expression:"!sorting"}],key:"checkbox",staticClass:"listing--checkbox"},[t("div",{staticClass:"form-check"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],staticClass:"form-check-input",attrs:{id:`row-${e.id}`,type:"checkbox"},domProps:{checked:Array.isArray(e.selected)?e._i(e.selected,null)>-1:e.selected},on:{change:function(t){var a=e.selected,s=t.target,i=!!s.checked;if(Array.isArray(a)){var l=e._i(a,null);s.checked?l<0&&(e.selected=a.concat([null])):l>-1&&(e.selected=a.slice(0,l).concat(a.slice(l+1)))}else e.selected=i}}}),e._v(" "),t("label",{staticClass:"form-check-label",attrs:{for:`row-${e.id}`},on:{click:function(t){e.selected,e.selected}}})])])};ne._withStripped=!0;var re={name:"Checkbox",props:{id:Number},data:()=>({selected:!1}),computed:{selectAll(){return this.$store.getters["selecting/selectAll"]},sorting(){return this.$store.getters["general/getSorting"]}},watch:{selectAll(){this.selected=this.selectAll},selected(){this.selected?this.$store.dispatch("selecting/select",this.id):this.$store.dispatch("selecting/deSelect",this.id)},sorting(){this.sorting&&(this.selected=!1)}}},oe=(0,y.Z)(re,ne,[],!1,null,null,null).exports,de=function(){var e=this,t=e._self._c;return t("div",{staticClass:"listing__row--item is-meta"},[t("ul",{staticClass:"listing__row--list"},[t("li",{staticClass:"text-nowrap"},[t("span",{staticClass:"status",class:`is-${e.record.status}`,attrs:{title:e.record.status}}),e._v("\n            "+e._s(e._f("date")(e.record.publishedAt?e.record.publishedAt:e.record.createdAt))+"\n        ")]),e._v(" "),"normal"===e.size?t("li",[t("i",{staticClass:"fas fa-user"}),e._v(" "+e._s(e.record.authorName))]):e._e(),e._v(" "),"normal"===e.size?t("li",[t("i",{staticClass:"fas",class:e.record.extras.icon}),e._v(" "),"dashboard"===e.type?[t("a",{staticClass:"text-decoration-none",attrs:{href:`${e.record.extras.contentTypeOverviewLink}`}},[e._v(e._s(e.record.extras.singular_name))])]:[e._v(e._s(e.record.extras.singular_name))],e._v(" № "+e._s(e.record.id)+"\n        ")],2):e._e()])])};de._withStripped=!0;var ce={name:"MetaData",props:{type:String,size:String,record:Object}},ue=(0,y.Z)(ce,de,[],!1,null,null,null).exports,me=function(){var e=this,t=e._self._c;return t("div",{staticClass:"listing__row--item is-actions edit-actions"},[t("div",{staticClass:"btn-group"},[t("a",{staticClass:"btn btn-secondary btn-block btn-sm text-nowrap",attrs:{href:e.record.extras.editLink,"data-patience":"virtue"}},[t("i",{staticClass:"far fa-edit me-1"}),e._v(" "+e._s(e.labels.button_edit)+"\n        ")]),e._v(" "),e._m(0),e._v(" "),t("div",{staticClass:"edit-actions__dropdown dropdown-menu dropdown-menu-right",staticStyle:{width:"320px"}},["published"===e.record.status?t("a",{staticClass:"dropdown-item",attrs:{href:e.record.extras.link,target:"_blank"}},[t("i",{staticClass:"fas fa-w fa-external-link-square-alt"}),e._v("\n                "+e._s(e.labels.view_on_site)+"\n            ")]):e._e(),e._v(" "),"published"!==e.record.status?t("a",{staticClass:"dropdown-item",attrs:{href:e.record.extras.statusLink+"&status=published"}},[t("span",{staticClass:"status me-1 is-published"}),e._v("\n                "+e._s(e.labels.status_to_publish)+"\n            ")]):e._e(),e._v(" "),"held"!==e.record.status?t("a",{staticClass:"dropdown-item",attrs:{href:e.record.extras.statusLink+"&status=held"}},[t("span",{staticClass:"status me-1 is-held"}),e._v("\n                "+e._s(e.labels.status_to_held)+"\n            ")]):e._e(),e._v(" "),"draft"!==e.record.status?t("a",{staticClass:"dropdown-item",attrs:{href:e.record.extras.statusLink+"&status=draft"}},[t("span",{staticClass:"status me-1 is-draft"}),e._v("\n                "+e._s(e.labels.status_to_draft)+"\n            ")]):e._e(),e._v(" "),t("a",{staticClass:"dropdown-item",attrs:{href:e.record.extras.duplicateLink}},[t("i",{staticClass:"far fa-w fa-copy"}),e._v("\n                "+e._s(e.labels.duplicate)+" "+e._s(e.record.extras.singular_name)+"\n            ")]),e._v(" "),t("a",{staticClass:"dropdown-item",attrs:{href:e.record.extras.deleteLink,"data-modal-title":"Are you sure you wish to delete this Content?","data-modal-button-deny":"Cancel","data-modal-button-accept":"OK","data-bs-toggle":"modal","data-bs-target":"#resourcesModal"}},[t("i",{staticClass:"fas fa-w fa-trash"}),e._v("\n                "+e._s(e.labels.delete)+" "+e._s(e.record.extras.singular_name)+"\n            ")]),e._v(" "),t("div",{staticClass:"dropdown-divider"}),e._v(" "),t("span",{staticClass:"dropdown-item-text"},[t("i",{staticClass:"fas fa-link fa-w"}),e._v("\n                "+e._s(e.labels.slug)+":\n                "),t("code",{attrs:{title:e.slug}},[e._v(e._s(e._f("trim")(e.slug,24)))])]),e._v(" "),t("span",{staticClass:"dropdown-item-text"},[t("i",{staticClass:"fas fa-asterisk fa-w"}),e._v("\n                "+e._s(e.labels.created_on)+":\n                "),t("strong",[e._v(e._s(e._f("datetime")(e.record.createdAt)))])]),e._v(" "),t("span",{staticClass:"dropdown-item-text"},[t("i",{staticClass:"far fa-calendar-alt fa-w"}),e._v("\n                "+e._s(e.labels.published_on)+":\n                "),t("strong",[e._v(e._s(e._f("datetime")(e.record.publishedAt)))])]),e._v(" "),t("span",{staticClass:"dropdown-item-text"},[t("i",{staticClass:"fas fa-redo fa-w"}),e._v("\n                "+e._s(e.labels.last_modified_on)+":\n                "),t("strong",[e._v(e._s(e._f("datetime")(e.record.modifiedAt)))])])])])])};me._withStripped=!0;var pe={name:"Actions",props:{type:String,record:Object,labels:Object},computed:{slug(){return null===this.record.fieldValues.slug?"":"string"==typeof this.record.fieldValues.slug?this.record.fieldValues.slug:this.record.fieldValues.slug[Object.keys(this.record.fieldValues.slug)[0]]}},created(){}},fe={name:"TableRow",components:{"row-checkbox":oe,"row-meta":ue,"row-actions":(0,y.Z)(pe,me,[function(){var e=this._self._c;return e("button",{staticClass:"btn btn-sm btn-secondary edit-actions__dropdown-toggler dropdown-toggle dropdown-toggle-split",attrs:{type:"button","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("span",{staticClass:"sr-only"},[this._v("Toggle Dropdown")])])}],!1,null,null,null).exports},mixins:[Q],props:{record:Object,labels:Object},computed:{slug(){return null===this.record.fieldValues.slug?"":"string"==typeof this.record.fieldValues.slug?this.record.fieldValues.slug:this.record.fieldValues.slug[Object.keys(this.record.fieldValues.slug)[0]]},size(){return this.$store.getters["general/getRowSize"]},sorting(){return this.$store.getters["general/getSorting"]}}},ge=(0,y.Z)(fe,le,[],!1,null,null,null).exports,he={name:"ListingTable",components:{draggable:ie(),"table-row":ge},props:{labels:Object},computed:{records:{get(){return this.$store.getters["listing/getRecords"]},set(e){this.$store.dispatch("listing/setRecords",e)}}}},ve=(0,y.Z)(he,ae,[],!1,null,null,null).exports,be=function(){var e=this,t=e._self._c;return t("transition",{attrs:{name:"card"}},[e.selectedCount>0?t("div",{staticClass:"card mb-3"},[t("div",{staticClass:"card-header"},[t("span",{staticClass:"is-primary me-1"},[e._v(e._s(e.selectedCount))]),e._v(" "),1===e.selectedCount?[e._v(e._s(e.singular))]:[e._v(e._s(e.plural))],e._v("\n            "+e._s(e.labels.selected)+"\n        ")],2),e._v(" "),t("div",{staticClass:"card-body"},[t("div",{staticClass:"form-group"},[t("multiselect",{attrs:{"allow-empty":!1,multiple:!1,"show-labels":!1,label:"value","track-by":"key",options:e.options},scopedSlots:e._u([{key:"option",fn:function(a){return[t("span",{class:a.option.class}),e._v(" "),t("span",[e._v("\n                            "+e._s(a.option.value)+"\n                        ")])]}}],null,!1,1963688328),model:{value:e.selectedAction,callback:function(t){e.selectedAction=t},expression:"selectedAction"}})],1),e._v(" "),t("form",{attrs:{action:e.postUrl,method:"post"}},[t("input",{attrs:{type:"hidden",name:"records"},domProps:{value:e.selected}}),e._v(" "),t("input",{attrs:{type:"hidden",name:"_csrf_token"},domProps:{value:e.csrftoken}}),e._v(" "),t("div",{staticClass:"form-group"},[t("button",{staticClass:"btn btn-secondary",attrs:{type:"submit",name:"bulk-action",disabled:null===e.selectedAction}},[e._v("\n                        "+e._s(e.labels.update_all)+"\n                    ")])])])])]):e._e()])};be._withStripped=!0;var _e=a(47907),ye=a.n(_e),we={name:"ListingSelectedBox",components:{Multiselect:ye()},props:{singular:String,plural:String,labels:Object,csrftoken:String,backendPrefix:String},data(){return{selectedAction:null,options:[{key:"status/published",value:this.labels.status_to_published,selected:!1,class:"status me-1 is-published"},{key:"status/draft",value:this.labels.status_to_draft,selected:!1,class:"status me-1 is-draft"},{key:"status/held",value:this.labels.status_to_held,selected:!1,class:"status me-1 is-held"},{key:"delete",value:this.labels.delete,selected:!1,class:"fas fa-w fa-trash"}]}},computed:{postUrl(){return this.selectedAction?this.backendPrefix+"bulk/"+this.selectedAction.key:""},selectedCount(){return this.$store.getters["selecting/selectedCount"]},selected(){return this.$store.getters["selecting/selected"]},order(){return this.$store.getters["listing/getOrder"]}}},Ce=(0,y.Z)(we,be,[],!1,null,null,null).exports;const Se="listing";document.getElementById(Se)&&new c.ZP({store:G,el:"#listing",name:"BoltListing",components:{"listing-records":W,"listing-filter":te,"listing-table":ve,"listing-select-box":Ce}});const xe={slimSidebar(e,t){e.slimSidebar=t}};var ke={slimSidebar:e=>e.slimSidebar},De={namespaced:!0,state:{slimSidebar:!1},getters:ke,actions:{slimSidebar(e,t){let{commit:a}=e;a("slimSidebar",t)}},mutations:xe};c.ZP.use(m.ZP);var Ie=new m.ZP.Store({modules:{general:De}}),Fe=function(){var e=this,t=e._self._c;return t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.rawVal,expression:"rawVal"}],staticClass:"form-control",class:e.getType,attrs:{id:e.id,title:e.name,name:e.name,type:"text",disabled:e.disabled,required:e.required,readonly:e.readonly,"data-errormessage":e.errormessage,pattern:e.pattern,placeholder:e.placeholder,autofocus:1==e.autofocus},domProps:{value:e.rawVal},on:{input:function(t){t.target.composing||(e.rawVal=t.target.value)}}})])};Fe._withStripped=!0;var $e={mounted(){this.val=this.value;let e=document.createElement("textarea");e.innerHTML=this.value,this.rawVal=e.value},data:()=>({val:null,rawVal:null})},Ee={name:"EditorText",mixins:[$e],props:{value:String,name:String,type:String,disabled:Boolean,id:String,required:Boolean,readonly:Boolean,errormessage:String|Boolean,pattern:String|Boolean,placeholder:String|Boolean,autofocus:Boolean},data:()=>({generate:!1}),computed:{getType(){return"large"===this.type?"form-control-lg":this.type}},watch:{rawVal(){this.generate&&this.$root.$emit("slugify-from-title")}},mounted(){this.$root.$on("generate-from-title",(e=>this.generate=e))}},je=(0,y.Z)(Ee,Fe,[],!1,null,null,null).exports,Ae=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"input-group mb-3"},[t("div",{staticClass:"input-group-prepend"},[t("span",{staticClass:"input-group-text"},[e._v(e._s(e.prefix))])]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.val,expression:"val"}],staticClass:"form-control",class:e.fieldClass,attrs:{name:e.name,placeholder:"…",type:"text",readonly:e.readonly||!e.edit,required:e.required,"data-errormessage":e.errormessage,pattern:e.pattern,title:e.name},domProps:{value:e.val},on:{input:function(t){t.target.composing||(e.val=t.target.value)}}}),e._v(" "),t("div",{staticClass:"input-group-append"},[t("button",{staticClass:"btn btn-tertiary dropdown-toggle",class:[{"btn-primary":e.edit},{"btn-secondary":!e.edit}],attrs:{type:"button","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:e.readonly}},[t("i",{staticClass:"fas fa-fw",class:`fa-${e.icon}`}),e._v(" "+e._s(e.buttonText)+"\n            ")]),e._v(" "),t("div",{staticClass:"dropdown-menu"},[e.edit?e._e():[t("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:e.editSlug}},[t("i",{staticClass:"fas fa-pencil-alt fa-fw"}),e._v(" "+e._s(e.labels.button_edit)+"\n                    ")])],e._v(" "),e.locked?e._e():[t("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:e.lockSlug}},[t("i",{staticClass:"fas fa-lock fa-fw"}),e._v(" "+e._s(e.labels.button_locked)+"\n                    ")])],e._v(" "),t("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:e.generateSlug}},[t("i",{staticClass:"fas fa-link fa-fw"}),e._v(" "+e._s(e.labels.generate_from)+"\n                    "+e._s(e.generate)+"\n                ")])],2)])])])};Ae._withStripped=!0;var Be={name:"EditorSlug",mixins:[$e],props:{value:String,name:String,prefix:String,fieldClass:String,generate:String,labels:Object,required:Boolean,readonly:Boolean,errormessage:String|Boolean,pattern:String|Boolean,localize:Boolean,isNew:Boolean},data(){return{edit:!1,locked:!0,buttonText:this.$props.labels.button_locked,icon:"lock"}},mounted(){setTimeout((()=>{let e="";this.generate.split(",").forEach((t=>{e+=document.querySelector(`input[name='fields[${t}]']`).value})),this.shouldGenerateFromTitle(e)&&(this.icon="unlock",this.buttonText=this.$props.labels.button_unlocked,this.$root.$emit("generate-from-title",!0),this.generateSlug())}),0),this.$root.$on("slugify-from-title",(()=>this.generateSlug()))},methods:{shouldGenerateFromTitle(e){return!!this.isNew||e.length<=0&&this.localize},editSlug(){this.$root.$emit("generate-from-title",!1),this.edit=!0,this.locked=!1,this.buttonText=this.$props.labels.button_edit,this.icon="pencil-alt"},lockSlug(){this.$root.$emit("generate-from-title",!1);const e=this.$options.filters.slugify(this.val);this.val=e,this.edit=!1,this.locked=!0,this.buttonText=this.$props.labels.button_locked,this.icon="lock"},generateSlug(){let e="";this.generate.split(",").forEach((t=>{e=e+" "+document.querySelector(`input[name='fields[${t}]']`).value}));const t=this.$options.filters.slugify(e);this.val=t,this.$root.$emit("generate-from-title",!0),this.edit=!1,this.locked=!1,this.buttonText=this.$props.labels.button_unlocked,this.icon="unlock"}}},Pe=(0,y.Z)(Be,Ae,[],!1,null,null,null).exports,Le=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"input-group"},[t("flat-pickr",{staticClass:"form-control editor--date",attrs:{config:e.config,disabled:e.readonly,form:e.form,name:e.name,placeholder:"Select date","data-errormessage":e.errormessage},model:{value:e.val,callback:function(t){e.val=t},expression:"val"}}),e._v(" "),t("button",{staticClass:"btn btn-tertiary",class:{"btn-outline-secondary":e.readonly},attrs:{type:"button",disabled:e.readonly,"data-toggle":"","aria-label":"Date picker",onclick:"this.blur()"}},[t("i",{staticClass:"fa fa-calendar"},[t("span",{staticClass:"sr-only",attrs:{"aria-hidden":"true"}},[e._v(e._s(e.labels.toggle))])])]),e._v(" "),t("button",{staticClass:"btn btn-tertiary",class:{"btn-outline-secondary":e.readonly},attrs:{type:"button",disabled:e.readonly,"data-clear":"","aria-label":"Reset date",onclick:"this.blur()"}},[t("i",{staticClass:"fa fa-times"},[t("span",{staticClass:"sr-only",attrs:{"aria-hidden":"true"}},[e._v(e._s(e.labels.clear))])])])],1)])};Le._withStripped=!0;var Te=a(24790),qe={name:"EditorDate",components:{flatPickr:a.n(Te)()},mixins:[$e],props:{value:{type:String,required:!1,default:""},name:{type:String,required:!0},readonly:{type:Boolean,required:!0},mode:{type:String,required:!0,default:"date"},form:{type:String,required:!0},locale:{type:String,default:"en"},labels:{type:String,default:""},required:{type:Boolean,required:!0},errormessage:{type:String|Boolean,required:!0}},data:()=>({config:{wrap:!0,altFormat:"F j, Y",altInput:!0,dateFormat:"Y-m-d H:i:S",enableTime:!1}}),created(){if("en"!==this.locale){const e=a(79948)(`./${this.locale}.js`).default[this.locale];this.config.locale=e}"datetime"===this.mode&&(this.config.enableTime=!0,this.config.altFormat="F j, Y - h:i K")},updated(){this.fixRequired()},methods:{fixRequired(){if(!this.required)return;const e=r()(this.$el).find(".editor--date.input");""===this.val?e.attr("required",!0):e.removeAttr("required"),e[0].reportValidity(),e[0].setCustomValidity("")}}},Me=(0,y.Z)(qe,Le,[],!1,null,null,null).exports,Ze=function(){var e=this,t=e._self._c;return t("div",{staticClass:"multiselect-bolt-wrapper",class:e.classname,attrs:{id:`multiselect-${e.id}`}},[t("multiselect",{ref:"vselect",attrs:{limit:1e3,multiple:e.multiple,options:e.options,"options-limit":e.optionslimit,searchable:e.autocomplete||e.taggable,"show-labels":!1,taggable:e.taggable,disabled:e.readonly,"data-errormessage":e.errormessage,label:"value","tag-placeholder":"Add this as new tag","tag-position":"bottom","track-by":"key"},on:{tag:e.addTag},scopedSlots:e._u([{key:"singleLabel",fn:function(a){return a.option.link_to_record_url?[t("span",{domProps:{innerHTML:e._s(a.option.value)}}),e._v(" "),t("div",{staticClass:"multiselect__tag__edit"},[t("a",{attrs:{href:a.option.link_to_record_url,target:"_blank",rel:"noopener noreferrer"}},[t("i",{staticClass:"far fa-edit me-0"})])])]:void 0}},{key:"option",fn:function(a){return"status"===e.name?[t("span",{staticClass:"status me-2",class:`is-${a.option.key}`}),e._v("\n            "+e._s(e._f("raw")(a.option.value))+"\n        ")]:void 0}},{key:"tag",fn:function(a){return"status"!==e.name?[t("span",{class:{empty:""==a.option.value},on:{drop:function(t){return e.drop(t)},dragover:function(t){return e.allowDrop(t)}}},[t("span",{key:a.option.value,staticClass:"multiselect__tag",attrs:{id:a.option.key,draggable:!e.taggable},on:{dragstart:function(t){return e.drag(t)},dragover:function(t){return e.dragOver(t)},dragleave:function(t){return e.dragLeave(t)},dragend:function(t){return e.dragEnd(t)}}},[e.taggable?e._e():t("div",{staticClass:"multiselect__tag__drag"},[t("i",{staticClass:"fas fa-arrows-alt"})]),e._v(" "),t("span",{domProps:{innerHTML:e._s(a.option.value)}}),e._v(" "),a.option.link_to_record_url?t("div",{staticClass:"multiselect__tag__edit"},[t("a",{attrs:{href:a.option.link_to_record_url,target:"_blank",rel:"noopener noreferrer"}},[t("i",{staticClass:"far fa-edit me-0"})])]):e._e(),e._v(" "),t("i",{staticClass:"multiselect__tag-icon",attrs:{tabindex:"1"},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.removeElement(a.option))},mousedown:function(t){return t.preventDefault(),e.removeElement(a.option)}}})])])]:void 0}}],null,!0),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),e._v(" "),t("input",{attrs:{id:e.id,type:"hidden",name:e.name,form:e.form},domProps:{value:e.sanitized}})],1)};Ze._withStripped=!0;var Oe={name:"EditorSelect",components:{Multiselect:ye()},props:{value:Array|String,name:String,id:String,form:String,options:Array,optionslimit:Number,multiple:Boolean,taggable:Boolean,readonly:Boolean,classname:String,autocomplete:Boolean,errormessage:String|Boolean},data:()=>({selected:[]}),computed:{sanitized(){let e;return null===this.selected?JSON.stringify([]):this.selected.map?(e=this.selected.map((e=>e.key)),JSON.stringify(e)):JSON.stringify([this.selected.key])},fieldName(){return this.name+"[]"}},mounted(){const e=this.value?this.value.map?this.value:[this.value]:[],t=this.options;let a=e.map((e=>{const a=t.filter((t=>t.key===e));if(a.length>0)return a[0]})).filter((e=>void 0!==e));0===a.length&&(a=[t[0]]),this.selected=a},methods:{addTag(e){const t={key:e,value:e,selected:!0};this.options.push(t),this.value.push(t),this.selected.push(t)},removeElement:function(e){this.$refs.vselect.removeElement(e)},drop(e){e.preventDefault();const t=e.dataTransfer.getData("text"),a=this.findDropElement(e.target).id,s=this.selected.find((e=>""+e.key==""+t)),i=this.selected.find((e=>""+e.key==""+a)),l=this.selected.indexOf(s),n=this.selected.indexOf(i),r=l<n?n+1:n;this.selected.splice(l,1),this.selected.splice(r,0,s)},findDropElement(e){for(;!e.hasAttribute("draggable");)e=e.parentNode;return e},allowDrop(e){e.preventDefault()},drag(e){r()(e.target).addClass("dragging"),e.dataTransfer.setData("text",e.target.id)},dragOver(e){const t=this.findDropElement(e.target);r()(t).hasClass("dragging")||r()(t).addClass("dragover")},dragLeave(e){const t=this.findDropElement(e.target);r()(t).removeClass("dragover")},dragEnd(e){const t=this.findDropElement(e.target);r()(t).removeClass("dragging")}}},Ne=Oe,ze=(0,y.Z)(Ne,Ze,[],!1,null,null,null).exports,Ue=function(){var e=this,t=e._self._c;return t("div",{staticClass:"input-group"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.val,expression:"val"}],staticClass:"form-control",attrs:{id:e.id,name:e.name,type:"number",step:e.step,min:e.min,max:e.max,required:e.required,readonly:e.readonly,"data-errormessage":e.errormessage,pattern:e.pattern,placeholder:e.placeholder},domProps:{value:e.val},on:{input:function(t){t.target.composing||(e.val=t.target.value)}}})])};Ue._withStripped=!0;var Re={name:"EditorNumber",mixins:[$e],props:{id:String,value:String,name:String,step:Number|String,min:Number,max:Number,type:String,disabled:Boolean,required:Boolean,readonly:Boolean,errormessage:String|Boolean,pattern:String|Boolean,placeholder:String|Boolean}},Ve=(0,y.Z)(Re,Ue,[],!1,null,null,null).exports,He=function(){var e=this,t=e._self._c;return t("div",[t("trumbowyg",{attrs:{id:e.id,name:e.name,config:e.config},model:{value:e.val,callback:function(t){e.val=t},expression:"val"}})],1)};He._withStripped=!0;var Ye=a(91739),Ge={name:"EditorHtml",components:{trumbowyg:a.n(Ye)()},props:{value:String,label:String,name:String,id:String},data:()=>({val:null,config:{btns:[["formatting"],["strong","em","del"],["link"],["insertImage"],["justifyLeft","justifyCenter","justifyRight"],["unorderedList","orderedList"],["horizontalRule"],["removeformat"],["fullscreen"],["viewHTML"]]}}),mounted(){this.val=this.$options.filters.strip(this.value)}},Je=(0,y.Z)(Ge,He,[],!1,null,null,null).exports,Ke=function(){var e=this,t=e._self._c;return t("div",[t("vue-easymde",{attrs:{id:e.name,name:e.name,configs:e.config},model:{value:e.val,callback:function(t){e.val=t},expression:"val"}})],1)};Ke._withStripped=!0;var We={name:"EditorMarkdown",components:{VueEasymde:a(4255).Z},props:{value:String,name:String},data:()=>({val:null,config:{spellChecker:!1,status:!1,toggleFullScreen:!0}}),mounted(){this.val=this.$options.filters.strip(this.value)}},Xe=(0,y.Z)(We,Ke,[],!1,null,"e8c2e950",null).exports,Qe=function(){var e=this,t=e._self._c;return t("div",[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.rawVal,expression:"rawVal"}],staticClass:"form-control field--textarea",style:{height:e.styleHeight},attrs:{id:e.id,name:e.name,rows:e.rows,required:e.required,readonly:e.readonly,"data-errormessage":e.errormessage,placeholder:e.placeholder,maxlength:e.maxlength,title:e.name},domProps:{value:e.rawVal},on:{input:function(t){t.target.composing||(e.rawVal=t.target.value)}}})])};Qe._withStripped=!0;var et={name:"EditorTextarea",mixins:[$e],props:{id:String,value:String,name:String,required:Boolean,readonly:Boolean,errormessage:String|Boolean,placeholder:String|Boolean,height:String|Number,maxlength:String},data(){return{rows:!isNaN(this.height)&&this.height,styleHeight:!!isNaN(this.height)&&this.height}}},tt=(0,y.Z)(et,Qe,[],!1,null,null,null).exports,at=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"editor__embed",attrs:{id:e.name,name:e.name}},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-8"},[t("div",{staticClass:"mb-4"},[t("label",{staticClass:"form-label",attrs:{for:"embed-url"}},[e._v(e._s(e.labels.content_url))]),e._v(" "),t("div",{staticClass:"input-group"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.urlData,expression:"urlData"}],staticClass:"form-control",attrs:{name:e.name+"[url]",placeholder:e.labels.placeholder_content_url,title:e.labels.placeholder_content_url,type:"url",required:e.required,readonly:e.readonly,"data-errormessage":e.errormessage,pattern:e.pattern},domProps:{value:e.urlData},on:{input:function(t){t.target.composing||(e.urlData=t.target.value)}}}),e._v(" "),t("span",{staticClass:"input-group-append"},[t("button",{staticClass:"btn btn-tertiary refresh",attrs:{type:"button",disabled:e.loading,"aria-label":e.labels.refresh},on:{click:e.updateEmbed}},[t("i",{class:(e.loading?"fa-spin":"")+" fas fa-sync me-0"})]),e._v(" "),t("button",{staticClass:"btn btn-hidden-danger remove",attrs:{type:"button","aria-label":e.labels.delete},on:{click:e.clearEmbed}},[t("i",{staticClass:"fas fa-trash me-0"})])])])]),e._v(" "),t("div",{staticClass:"mb-4 d-flex align-items-center"},[t("label",{staticClass:"form-label",attrs:{for:"embed-width-size"}},[e._v(e._s(e.labels.label_size))]),e._v(" "),t("input",{staticClass:"form-control w-auto col-2 offset-1",attrs:{name:e.name+"[width]",type:"number",readonly:e.readonly,title:e.labels.field_width},domProps:{value:e.widthData}}),e._v("\n                    ×\n                    "),t("label",{staticClass:"sr-only",attrs:{for:"embed-height-size"}},[e._v(e._s(e.labels.label_height))]),e._v(" "),t("input",{staticClass:"form-control w-auto col-2",attrs:{name:e.name+"[height]",type:"number",readonly:e.readonly,title:e.labels.field_height},domProps:{value:e.heightData}}),e._v(" "),t("label",[e._v(e._s(e.labels.label_pixel))])]),e._v(" "),t("div",{staticClass:"mb-4"},[t("label",{staticClass:"form-label"},[e._v(e._s(e.labels.label_matched_embed))]),e._v(" "),t("input",{staticClass:"form-control title",attrs:{name:e.name+"[title]",readonly:"",title:e.labels.field_title,type:"text"},domProps:{value:e.titleData}}),e._v(" "),t("input",{staticClass:"form-control author_name",attrs:{name:e.name+"[authorname]",readonly:"",title:e.labels.field_author,type:"text"},domProps:{value:e.authornameData}}),e._v(" "),t("input",{staticClass:"author_url",attrs:{name:e.name+"[authorurl]",type:"hidden"},domProps:{value:e.authorurlData}}),e._v(" "),t("input",{staticClass:"html",attrs:{name:e.name+"[html]",type:"hidden"},domProps:{value:e.htmlData}}),e._v(" "),t("input",{staticClass:"thumbnail_url",attrs:{name:e.name+"[thumbnail]",type:"hidden"},domProps:{value:e.thumbnailData}})])]),e._v(" "),t("div",{staticClass:"col-4"},[t("label",{staticClass:"form-label"},[e._v(e._s(e.labels.label_preview))]),e._v(" "),t("div",{staticClass:"editor__image--preview"},[null!==e.previewImage&&""!==e.previewImage?t("a",{staticClass:"editor__image--preview-image",style:`background-image: url('${e.previewImage}')`,attrs:{href:e.previewImage}}):e._e()])])])])])};at._withStripped=!0;var st=a(96486),it=a.n(st),lt=a(95731),nt=a.n(lt),rt={name:"EditorEmbed",mixins:[$e],props:{embedapi:String,name:String,authorurl:String,authorname:String,height:Number|String,html:String,thumbnail:String,title:String,url:String,width:Number|String,labels:Object,required:Boolean,readonly:Boolean,errormessage:String|Boolean,pattern:String|Boolean},data(){return{authorurlData:this.authorurl,authornameData:this.authorname,heightData:this.height,htmlData:this.html,thumbnailData:this.thumbnail,titleData:this.title,urlData:this.url,widthData:this.width,loading:!1}},watch:{urlData:function(){this.updateEmbed()}},mounted(){this.previewImage=this.thumbnail},created:function(){this.debouncedFetchEmbed=it().debounce(this.fetchEmbed,500),this.urlData&&this.updateEmbed(),this.previewImage=this.thumbnail},updated(){nt().run(".editor__image--preview",{afterShow:()=>{},afterHide:()=>{}})},methods:{updateEmbed:function(){this.loading=!0,this.debouncedFetchEmbed()},clearEmbed:function(){this.urlData=""},fetchEmbed:function(){const e=new FormData;e.append("url",this.urlData),e.append("_csrf_token",document.getElementsByName("_csrf_token")[0].value),fetch(this.embedapi,{method:"POST",body:e}).then((e=>e.json())).then((e=>{this.authorurlData=e.author_url,this.authornameData=e.author_name,this.heightData=e.height,this.htmlData=e.html,this.thumbnailData=e.thumbnail_url,this.titleData=e.title,this.widthData=e.width,this.previewImage=e.thumbnail_url})).catch((e=>{console.warn(e)})).finally((()=>{this.loading=!1}))}}},ot=(0,y.Z)(rt,at,[],!1,null,null,null).exports,dt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"editor__image",on:{dragenter:e.onDragEnter,dragleave:e.onDragLeave,dragover:function(e){e.preventDefault()},drop:e.onDrop}},[t("transition",{attrs:{name:"fade"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.isDragging,expression:"isDragging"}],staticClass:"editor__image--dragging"},[t("i",{staticClass:"fas fa-upload"})])]),e._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 col-md-3 order-md-2"},[t("div",{staticClass:"editor__image--preview"},[null!==e.thumbnailImage&&""!==e.thumbnailImage?t("a",{staticClass:"editor__image--preview-image",style:`background-image: url('${e.thumbnailImage}')`,attrs:{href:e.previewImage}},[t("span",{staticClass:"sr-only"},[e._v(e._s(e.labels.image_preview))])]):e._e()])]),e._v(" "),t("div",{staticClass:"col order-md-1"},[t("div",{staticClass:"input-group mb-3"},[t("input",{attrs:{name:e.name+"[media]",type:"hidden"},domProps:{value:e.media}}),e._v(" "),t("input",{staticClass:"form-control",attrs:{title:e.name+" filename",name:e.name+"[filename]",type:"text",placeholder:e.labels.placeholder_filename,"data-readonly":"readonly",required:e.required,"data-errormessage":e.errormessage},domProps:{value:e.filenameData}})]),e._v(" "),e.includeAlt?t("div",{staticClass:"input-group mb-3"},[e._m(0),e._v(" "),t("div",{staticClass:"col-sm-10"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.altData,expression:"altData"}],staticClass:"form-control",attrs:{title:e.name+" alt",name:e.name+"[alt]",type:"text",readonly:e.readonly,pattern:e.pattern,placeholder:e.getPlaceholder},domProps:{value:e.altData},on:{input:function(t){t.target.composing||(e.altData=t.target.value)}}})])]):e._e(),e._v(" "),e._l(e.extraFields,(function(a,s){return t("div",{key:s,staticClass:"input-group mb-3"},[t("div",{staticClass:"col-sm-2"},[t("label",[e._v(e._s(a.label)+":")])]),e._v(" "),t("div",{staticClass:"col-sm-10"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.extraData[s],expression:"extraData[extraField]"}],staticClass:"form-control",attrs:{title:e.name+" "+s,name:e.name+"["+s+"]",type:"text",placeholder:a.placeholder},domProps:{value:e.extraData[s]},on:{input:function(t){t.target.composing||e.$set(e.extraData,s,t.target.value)}}})])])})),e._v(" "),t("div",{staticClass:"btn-toolbar",attrs:{role:"toolbar"}},[t("div",{staticClass:"btn-group me-2",attrs:{role:"group"}},[t("button",{staticClass:"btn btn-sm btn-tertiary",attrs:{type:"button",disabled:e.readonly},on:{click:e.selectUploadFile}},[t("i",{staticClass:"fas fa-fw fa-upload"}),e._v(e._s(e.labels.button_upload)+"\n                    ")]),e._v(" "),t("button",{staticClass:"btn btn-sm btn-tertiary dropdown-toggle dropdown-toggle-split",attrs:{"aria-expanded":"false","aria-haspopup":"true","data-bs-toggle":"dropdown",name:"image-upload-dropdown",type:"button",disabled:e.readonly}},[t("span",{staticClass:"sr-only"},[e._v(e._s(e.labels.button_upload_options))])]),e._v(" "),t("div",{staticClass:"dropdown-menu"},[t("button",{staticClass:"btn dropdown-item",attrs:{type:"button",disabled:e.readonly,"data-patience":"virtue","data-bs-toggle":"modal","data-bs-target":"#resourcesModal","data-modal-title":e.labels.modal_title_images,"data-initiator":e.id,"data-modal-dialog-class":"modal-xl"},on:{click:function(t){return e.selectServerFile(t)}}},[t("i",{staticClass:"fas fa-fw fa-th"}),e._v("\n                            "+e._s(e.labels.button_from_library)+"\n                        ")]),e._v(" "),t("button",{staticClass:"btn dropdown-item",attrs:{type:"button",disabled:e.readonly,"data-patiance":"virtue","data-bs-toggle":"modal","data-bs-target":"#resourcesModal","data-modal-title":e.labels.modal_title_upload_from_url},on:{click:function(t){return e.uploadFileFromUrl(t)}}},[t("i",{staticClass:"fas fa-fw fa-external-link-alt"}),e._v("\n                            "+e._s(e.labels.button_from_url)+"\n                        ")]),e._v(" "),e.filenameData?t("a",{staticClass:"dropdown-item",attrs:{href:e.attributesLink+"?file="+e.filenameData,target:"_blank"}},[t("i",{staticClass:"fas fa-fw fa-info-circle"}),e._v("\n                            "+e._s(e.labels.button_edit_attributes)+"\n                            "),e._m(1)]):e._e()])]),e._v(" "),t("div",{staticClass:"btn-group me-2",attrs:{role:"group"}},[e.inImagelist?t("button",{staticClass:"btn btn-sm btn-tertiary",attrs:{type:"button",disabled:e.isFirstInImagelist||e.readonly},on:{click:e.onMoveImageUp}},[t("i",{staticClass:"fas fa-fw fa-chevron-up"}),e._v("\n                        "+e._s(e.labels.button_move_up)+"\n                    ")]):e._e(),e._v(" "),e.inImagelist?t("button",{staticClass:"btn btn-sm btn-tertiary",attrs:{type:"button",disabled:e.isLastInImagelist||e.readonly},on:{click:e.onMoveImageDown}},[t("i",{staticClass:"fas fa-fw fa-chevron-down"}),e._v("\n                        "+e._s(e.labels.button_move_down)+"\n                    ")]):e._e(),e._v(" "),t("button",{staticClass:"btn btn-sm btn-hidden-danger",attrs:{type:"button",disabled:e.readonly},on:{click:e.onRemoveImage}},[t("i",{staticClass:"fas fa-fw fa-trash"}),e._v(" "+e._s(e.labels.button_remove)+"\n                    ")])])]),e._v(" "),e.progress>0?t("div",{staticClass:"progress mt-3"},[t("div",{staticClass:"progress-bar progress-bar-striped progress-bar-animated",style:`width: ${e.progress}%`,attrs:{role:"progressbar","aria-valuenow":e.progress,"aria-valuemin":"0","aria-valuemax":"100"}})]):e._e()],2)]),e._v(" "),t("input",{ref:"selectFile",staticClass:"editor__image--upload",attrs:{id:e.fieldId,title:e.name+" filename",name:e.fieldName,tabindex:"-1",type:"file",accept:e.acceptedExtensions},on:{change:function(t){return e.uploadFile(t.target.files[0])}}})],1)};dt._withStripped=!0;var ct=a(70743),ut=a.n(ct);function mt(){r()("*[data-original-class]").each((function(){const e=r()(this).find("i");r()(this).removeAttr("disabled"),e.attr("class",r()(this).attr("data-original-class"))}))}function pt(e){var t=document.getElementById("resourcesModal");if(e.modal_button_deny&&e.modal_button_save){let a=e.modal_button_deny,s=e.modal_button_save,i='\n                <div class="modal-header">\n                    <h5 class="modal-title" id="resourcesModalLabel">\n                        <div class="spinner-border" role="status">\n                            <span class="visually-hidden">Loading...</span>\n                        </div>\n                    </h5>\n                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>\n                </div>\n                <div class="modal-body">\n                    <div class="spinner-border" role="status">\n                        <span class="visually-hidden">Loading...</span>\n                    </div>\n                </div>\n                <div class="modal-footer">\n                    <button data-modal-button-deny="'+a+'" id="modalButtonDeny" type="button" class="btn btn-secondary" data-bs-dismiss="modal">'+a+'</button>\n                    <button data-modal-button-accept="'+s+'" id="modalButtonAccept" type="button" class="btn btn-primary" data-bs-dismiss="modal">'+s+"</button>\n                </div>\n            ";t.querySelector(".modal-content").innerHTML=i}else{let e="Close",a="Save",s='\n                <div class="modal-header">\n                    <h5 class="modal-title" id="resourcesModalLabel">\n                        <div class="spinner-border" role="status">\n                            <span class="visually-hidden">Loading...</span>\n                        </div>\n                    </h5>\n                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>\n                </div>\n                <div class="modal-body">\n                    <div class="spinner-border" role="status">\n                        <span class="visually-hidden">Loading...</span>\n                    </div>\n                </div>\n                <div class="modal-footer">\n                    <button data-modal-button-deny="'+e+'" id="modalButtonDeny" type="button" class="btn btn-secondary" data-bs-dismiss="modal">'+e+'</button>\n                    <button data-modal-button-accept="'+a+'" id="modalButtonAccept" type="button" class="btn btn-primary" data-bs-dismiss="modal">'+a+"</button>\n                </div>\n            ";t.querySelector(".modal-content").innerHTML=s}}var ft={name:"EditorImage",mixins:[$e],props:{filename:String,name:String,id:String,required:Boolean,readonly:Boolean,thumbnail:String,alt:String,includeAlt:Boolean,directory:String,directoryurl:String,media:Number|String,csrfToken:String,labels:Object,filelist:String,extensions:Array,attributesLink:String,inImagelist:Boolean,isFirstInImagelist:Boolean,isLastInImagelist:Boolean,errormessage:String|Boolean,pattern:String|Boolean,placeholder:String|Boolean,extraFields:Array,extraData:Array},data(){return{previewImage:null,thumbnailImage:null,isDragging:!1,dragCount:0,progress:0,filenameData:this.filename,altData:this.alt}},computed:{fieldId(){return this.id},fieldName(){return this.name+"[]"},token(){return this.csrfToken},acceptedExtensions(){return this.extensions.map((e=>"."+e)).join()},getPlaceholder(){return this.placeholder?this.placeholder:this.labels.placeholder_alt_text}},mounted(){this.resetImage()},updated(){this.resetImage(),nt().run(".editor__image--preview",{afterShow:()=>{ut().on()},afterHide:()=>{ut().off()}})},methods:{resetImage(){if(!this.filenameData)return this.previewImage=null,void(this.thumbnailImage=null);this.previewImage="/thumbs/1000×1000/"+this.filenameData,this.thumbnailImage="/thumbs/400×300/"+this.filenameData},onMoveImageDown(){this.$emit("moveImageDown",this)},onMoveImageUp(){this.$emit("moveImageUp",this)},onRemoveImage(){this.filenameData=null,this.resetImage(),this.includeAlt&&(this.altData=""),this.$emit("remove",this)},selectUploadFile(){this.$refs.selectFile.click()},generateModalContent(e){let t="",a=e[0].value,s=e[0].base_url_path,i='<div class="row row-cols-1 row-cols-sm-2 row-cols-lg-4 g-2">';if(a.includes("/")){let a=e[0].value.split("/");a.pop(),a.pop(),t=a.join("/");let l=`${s}?location=${t}&type=images`;""!=t&&(i+=`\n                    <div class="col">\n                        <div class="card h-100">\n                            <a href="${l}" class="directory d-flex justify-content-center w-100 flex-grow-1 text-decoration-none align-self-center">\n                                <i class="fas fa-solid fa-level-up-alt fa-3x me-0 align-self-center"></i>\n                            </a>\n                            <div class="card-body px-2 flex-grow-0 border-top border-very-light-border">\n                                <div class="form-check ps-0">\n                                    <span class="form-check-label d-inline fs-6 fw-normal d-block">\n                                        ../${t}\n                                    </span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>`)}return e.forEach(((e,a)=>{if("directories"==e.group){t=e.value,i+=`\n                    <div class="col">\n                        <div class="card h-100">\n                            <a href="${`${s}?location=${t}&type=images`}" class="directory d-flex justify-content-center w-100 flex-grow-1 text-decoration-none align-self-center">\n                                <i class="fas fa-solid fa-folder fa-5x me-0 align-self-center"></i>\n                            </a>\n                            <div class="card-body px-2 flex-grow-0 border-top border-very-light-border">\n                                <div class="form-check ps-0">\n                                    <span class="form-check-label d-inline fs-6 fw-normal d-block">\n                                        /${e.text}\n                                    </span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>`}else i+=`\n                    <div class="col">\n                        <div class="card h-100">\n                            <img src="/thumbs/523×294×crop/${e.value.replace("files/","")}" loading="lazy">\n                            <div class="card-body px-2 flex-grow-0 border-top border-very-light-border">\n                                <div class="form-check ps-0">\n                                    <input class="form-check-input" type="checkbox" value="${e.value}" id="flexCheckDefault-${a}">\n                                    <label class="form-check-label d-inline fs-6 fw-normal d-block" for="flexCheckDefault-${a}">\n                                        ${e.text}\n                                    </label>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    `})),i+="</div>",i},generateUploadFromURLModalContent(){let e="";return e+='\n                <form>\n                    <input class="form-control" autocomplete="off" type="text" name="from-url-input">\n                </form>\n            ','\n                <form>\n                    <input class="form-control" autocomplete="off" type="text" name="from-url-input">\n                </form>\n            '},selectServerFile(e){let t=this;l().get(this.filelist).then((a=>{let i=this.filterServerFiles(a.data);var l=document.getElementById("resourcesModal"),n=document.querySelector("#resourcesModal"),r=s.u_.getOrCreateInstance(n),o=e.target,d=o.getAttribute("data-modal-title"),c=l.querySelector(".modal-dialog"),u=l.querySelector(".modal-title"),m=l.querySelector(".modal-body"),p=l.querySelector(".modal-footer"),f=this.generateModalContent(i);c.classList.add(o.getAttribute("data-modal-dialog-class")),u.innerHTML=d,m.innerHTML=f,p.remove(),l.querySelectorAll(".directory").forEach((e=>{e.addEventListener("click",(a=>{a.preventDefault(),this.filelist=e.href,t.filelist=e.href,this.navigateDirectory()}))})),m.querySelectorAll(".form-check-input").forEach((e=>{e.addEventListener("click",(()=>{r.hide()}))})),l.addEventListener("hidden.bs.modal",(()=>{if(m.querySelector("input[type=checkbox]:checked")){var e=m.querySelector("input[type=checkbox]:checked").value;t.filenameData=e.replace("files/",""),t.thumbnailData=`/thumbs/400×300/${e.replace("files/","")}`,t.previewData=`/thumbs/1000×1000/${e.replace("files/","")}`}pt(this.labels)}),{once:!0}),mt()})).catch((e=>{window.alert(e.response.data+"<br>Image did not upload."),mt()}))},navigateDirectory(){let e=this;l().get(this.filelist).then((t=>{let a=this.filterServerFiles(t.data),i="";i=a[0].value.split("/"),i.pop(),i=i.join("/");var l=document.getElementById("resourcesModal"),n=document.querySelector("#resourcesModal"),r=s.u_.getOrCreateInstance(n),o=l.querySelector(".modal-title"),d=l.querySelector(".modal-body"),c=this.generateModalContent(a);o.innerHTML='Select an image: <i class="fas fa-solid fa-folder-tree"></i>'+i,d.innerHTML=c,l.querySelectorAll(".directory").forEach((t=>{t.addEventListener("click",(a=>{a.preventDefault(),this.filelist=t.href,e.filelist=t.href,this.navigateDirectory(a)}))})),d.querySelectorAll(".form-check-input").forEach((e=>{e.addEventListener("click",(()=>{r.hide()}))}))})).catch((e=>{window.alert(e.response.data+"<br>Image did not upload."),mt()}))},onDragEnter(e){return e.preventDefault(),this.dragCount++,this.isDragging=!0,!1},onDragLeave(e){e.preventDefault(),this.dragCount--,this.dragCount<=0&&(this.isDragging=!1)},onDrop(e){e.preventDefault(),e.stopPropagation(),this.isDragging=!1,this.dragCount=0;const t=e.dataTransfer.files[0];return this.uploadFile(t)},uploadFile(e){const t=new FormData,a={onUploadProgress:e=>{const t=Math.round(100*e.loaded/e.total);this.progress=t},headers:{"Content-Type":"multipart/form-data"}};t.append("image",e),t.append("_csrf_token",this.token),l().post(this.directory,t,a).then((e=>{this.filenameData=e.data,this.thumbnailData=`/thumbs/400×300/${e.data}`,this.previewData=`/thumbs/1000×1000/${e.data}`,this.progress=0})).catch((e=>{window.alert(e.response.data.error.message),console.warn(e.response.data.error.message),this.progress=0}))},uploadFileFromUrl(){let e=this;const t={onUploadProgress:e=>{const t=Math.round(100*e.loaded/e.total);this.progress=t},headers:{"Content-Type":"multipart/form-data"}};var a=document.getElementById("resourcesModal"),s=document.getElementById("modalButtonAccept"),i=event.target.getAttribute("data-modal-title"),n=a.querySelector(".modal-title"),r=a.querySelector(".modal-body"),o=this.generateUploadFromURLModalContent();n.innerHTML=i,setTimeout((()=>{r.innerHTML=o}),1),s.addEventListener("click",(()=>{var a=r.querySelector("input[name=from-url-input]").value;if(a){const s=new FormData;s.append("url",a),s.append("_csrf_token",e.token),l().post(e.directoryurl,s,t).then((t=>{e.filenameData=t.data,e.thumbnailData=`/thumbs/400×300/${t.data}`,e.previewData=`/thumbs/1000×1000/${t.data}`,e.progress=0})).catch((t=>{window.alert(t.response.data.error.message),console.warn(t.response.data.error.message),e.progress=0}))}}),{once:!0}),a.addEventListener("hidden.bs.modal",(()=>{pt(this.labels)}),{once:!0}),mt()},filterServerFiles(e){let t=this;return e.filter((function(e){let a=/(?:\.([^.]+))?$/.exec(e.text)[1];return"directories"==e.group?e:t.extensions.includes(a)}))}}},gt=(0,y.Z)(ft,dt,[function(){var e=this._self._c;return e("div",{staticClass:"col-sm-2"},[e("label",[this._v("Alt:")])])},function(){var e=this._self._c;return e("small",{staticClass:"dim"},[e("i",{staticClass:"fas fa-external-link-square-alt"})])}],!1,null,null,null).exports,ht=function(){var e=this,t=e._self._c;return t("div",{staticClass:"editor__imagelist"},[e._l(e.containerImages,(function(a,s){return t("div",{key:a.id,staticClass:"form-fieldsgroup"},[!0!==a.hidden?t("editor-image",{attrs:{filename:a.filename,thumbnail:a.thumbnail,title:a.title,alt:a.alt,"include-alt":!0,"attributes-link":e.attributesLink,media:a.media,directory:e.directory,filelist:e.filelist,"csrf-token":e.csrfToken,labels:e.labels,"in-imagelist":!0,name:e.fieldName(s),extensions:e.extensions,"is-first-in-imagelist":e.isFirstInImagelist(s),"is-last-in-imagelist":e.isLastInImagelist(s),readonly:e.readonly,"extra-fields":e.extraFields,"extra-data":a},on:{remove:e.onRemoveImage,moveImageUp:e.onMoveImageUp,moveImageDown:e.onMoveImageDown}}):e._e()],1)})),e._v(" "),0===e.getActiveImageFields().length?t("div",[t("input",{attrs:{name:e.name,value:"",type:"hidden"}})]):e._e(),e._v(" "),t("button",{staticClass:"btn btn-tertiary",attrs:{type:"button",disabled:!e.allowMore},on:{click:e.addImage}},[t("i",{staticClass:"fas fa-fw fa-plus"}),e._v("\n        "+e._s(e.labels.add_new_image)+"\n    ")])],2)};ht._withStripped=!0;var vt={name:"EditorImage",components:{"editor-image":gt},props:{images:Array,directory:String,name:String,filelist:String,csrfToken:String,labels:Object,extensions:Array,attributesLink:String,limit:Number,readonly:Boolean,extraFields:Array},data:function(){let e=0;return this.images.forEach((function(t,a,s){s[a].id=a,e++})),{counter:e,containerImages:this.images}},computed:{allowMore:function(){return!this.readonly&&this.getActiveImageFields().length<this.limit}},methods:{isFirstInImagelist(e){return 0===e},isLastInImagelist(e){return e===this.getActiveImageFields().length-1},getActiveImageFields(){return this.containerImages.filter((function(e){return!0!==e.hidden}))},getFieldNumberFromElement(e){return parseInt([...e.fieldName.matchAll(/\d+/g)].splice(-1).pop()[0])},onMoveImageDown(e){let t=this.getFieldNumberFromElement(e);if(t<this.containerImages.length-1){let e=this.containerImages[t],a=this.containerImages[t+1];this.containerImages.splice(t,2,a,e)}},onMoveImageUp(e){let t=this.getFieldNumberFromElement(e);if(t>0){let e=this.containerImages[t],a=this.containerImages[t-1];this.containerImages.splice(t-1,2,e,a)}},onRemoveImage(e){let t=this.getFieldNumberFromElement(e),a=this.containerImages[t];a.hidden=!0,this.$set(this.containerImages,t,a)},fieldName(e){return this.name+"["+e+"]"},addImage(){let e={inImagelist:!0,directory:this.directory,name:this.name,filelist:this.filelist,csrfToken:this.csrfToken,labels:this.labels,thumbnail:"",extensions:this.extensions,id:this.counter,alt:""};this.counter++,this.containerImages.push(e)}}},bt=(0,y.Z)(vt,ht,[],!1,null,null,null).exports,_t=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"input-group mb-2"},[t("i",{staticClass:"input-group-text far fa-envelope me-0"}),e._v(" "),t("input",{staticClass:"form-control",attrs:{id:e.id,name:e.name,type:"email",required:e.required,readonly:e.readonly,"data-errormessage":e.errormessage,pattern:e.pattern,placeholder:e.placeholder},domProps:{value:e.value}})])])};_t._withStripped=!0;var yt={name:"EditorEmail",props:{value:{type:String},name:{type:String},id:{type:String},required:{type:Boolean},readonly:{type:Boolean},errormessage:{type:String|Boolean},pattern:{type:String|Boolean},placeholder:String|Boolean}},wt=(0,y.Z)(yt,_t,[],!1,null,null,null).exports,Ct=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"input-group"},[t("input",{ref:"inputField",staticClass:"form-control",attrs:{id:e.id,type:"password",name:e.name,required:e.required,readonly:e.readonly,"data-errormessage":e.errormessage,pattern:e.pattern,placeholder:e.placeholder,autocomplete:"new-password"},domProps:{value:e.value},on:{input:e.measureStrength}}),e._v(" "),t("div",{staticClass:"input-group-text p-0"},[t("i",{ref:"visibilityToggle",staticClass:"toggle-password fas fa-eye",on:{click:e.togglePassword}})])]),e._v(" "),e.strength?t("progress-bar",{ref:"progressBar",attrs:{max:4,height:"4px"}}):e._e()],1)};Ct._withStripped=!0;var St=function(){var e=this,t=e._self._c;return t("div",{staticClass:"progress",style:e.styleHeight},[t("div",{staticClass:"progress-bar",style:e.styleWidth,attrs:{role:"progressbar","aria-valuemin":"0","aria-valuenow":e.value,"aria-valuemax":e.max}})])};St._withStripped=!0;var xt={name:"ProgressBar",props:{max:{type:Number,default:100},value:{type:Number,default:0},height:{type:String,default:null}},computed:{styleWidth(){return{width:this.value/this.max*100+"%"}},styleHeight(){return{height:this.height||null}}}},kt={name:"EditorPassword",components:{ProgressBar:(0,y.Z)(xt,St,[],!1,null,null,null).exports},props:{value:String,name:String,id:String,hidden:Boolean,strength:Boolean,required:Boolean,readonly:Boolean,errormessage:String|Boolean,pattern:String|Boolean,placeholder:String|Boolean},mounted:function(){this.hidden||this.$refs.visibilityToggle.click(),this.value&&this.strength&&this.$refs.inputField.dispatchEvent(new Event("input"))},methods:{togglePassword(e){const t=e.target,a=r()("#"+this.id)[0],s=a.getAttribute("type");"password"===s?(a.setAttribute("type","text"),t.classList.replace("fa-eye","fa-eye-slash")):"text"===s&&(a.setAttribute("type","password"),t.classList.replace("fa-eye-slash","fa-eye"))},measureStrength(e){const t=e.target;if(this.strength){let e=window.zxcvbn(t.value);this.$refs.progressBar.value=e.score}}}},Dt=(0,y.Z)(kt,Ct,[],!1,null,null,null).exports,It=function(){var e=this,t=e._self._c;return t("section",{staticClass:"user__theme"},[t("h3",[e._v("Themes:")]),e._v(" "),t("ul",{staticClass:"user__theme--themes"},e._l(e.themes,(function(a,s){return t("li",{key:s,staticClass:"theme",on:{click:function(t){return e.selectTheme(a.value)}}},[t("h5",{staticClass:"theme--name"},[e._v(e._s(a.name))]),e._v(" "),t("div",{staticClass:"theme--palette"},e._l(a.colors,(function(e,a){return t("span",{key:a,style:`background-color: ${e}`})})),0)])})),0)])};It._withStripped=!0;var Ft={name:"ThemeSelect",data:()=>({themes:[{name:"Default",value:"default",colors:["#1a5597","#053b79","#0c223b","#ffffff"]},{name:"Light",value:"light",colors:["#1a5597","#053b79","#ffffff","#f9f9f9"]}]}),methods:{selectTheme(e){const t=document.querySelector("#theme"),a=`${t.getAttribute("href").split("theme-")[0]}theme-${e}.css`;t.setAttribute("href",a)}}},$t=(0,y.Z)(Ft,It,[],!1,null,null,null).exports,Et=function(){var e=this,t=e._self._c;return t("div",{staticClass:"form-group",attrs:{id:"multiselect-localeswitcher"}},[t("label",[e._v(e._s(e.label))]),e._v(" "),t("multiselect",{attrs:{"track-by":"name",label:"localizedname",options:e.locales,searchable:!1,"show-labels":!1,limit:1},on:{input:function(t){return e.switchLocale()}},scopedSlots:e._u([{key:"singleLabel",fn:function(a){return[t("span",{staticClass:"fp me-1",class:a.option.flag}),e._v(" "),t("span",[e._v("\n                "+e._s(a.option.name)+"\n                "),t("small",{staticStyle:{"white-space":"nowrap"}},[e._v("("+e._s(a.option.code)+")")])])]}},{key:"option",fn:function(a){return[t("span",{staticClass:"fp me-1",class:a.option.flag}),e._v(" "),t("span",[e._v("\n                "+e._s(a.option.name)+"\n                "),t("small",{staticStyle:{"white-space":"nowrap"}},[e._v("("+e._s(a.option.code)+")")])])]}}]),model:{value:e.locale,callback:function(t){e.locale=t},expression:"locale"}})],1)};Et._withStripped=!0;var jt={name:"EditorLanguage",components:{Multiselect:ye()},props:{label:String,locales:Array,current:String},data:()=>({locale:{}}),mounted(){if(this.current){let e=this.locales.filter((e=>e.code===this.current));e.length>0?this.locale=e[0]:this.locale=this.locales[0]}else this.locale=this.locales[0]},methods:{switchLocale(){const e=this.locale.link+location.hash;return window.location.href=e}}},At=(0,y.Z)(jt,Et,[],!1,null,null,null).exports,Bt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"editor__file",on:{dragenter:e.onDragEnter,dragleave:e.onDragLeave,dragover:function(e){e.preventDefault()},drop:e.onDrop}},[t("transition",{attrs:{name:"fade"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.isDragging,expression:"isDragging"}],staticClass:"editor__file--dragging"},[t("i",{staticClass:"fas fa-upload"})])]),e._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-12"},[t("div",{staticClass:"input-group mb-3"},[t("input",{attrs:{name:e.name+"[media]",type:"hidden"},domProps:{value:e.media}}),e._v(" "),t("input",{staticClass:"form-control",attrs:{title:e.name+" filename",name:e.name+"[filename]",type:"text",placeholder:e.labels.placeholder_filename,"data-readonly":"readonly",required:e.required,"data-errormessage":e.errormessage},domProps:{value:e.filenameData}})]),e._v(" "),t("div",{staticClass:"input-group mb-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.titleData,expression:"titleData"}],staticClass:"form-control",attrs:{title:e.name+" title",name:e.name+"[title]",type:"text",required:e.required,readonly:e.readonly,pattern:e.pattern,placeholder:e.getPlaceholder},domProps:{value:e.titleData},on:{input:function(t){t.target.composing||(e.titleData=t.target.value)}}})]),e._v(" "),t("div",{staticClass:"btn-toolbar",attrs:{role:"toolbar"}},[t("div",{staticClass:"btn-group me-2",attrs:{role:"group"}},[t("button",{staticClass:"btn btn-sm btn-tertiary",attrs:{type:"button",disabled:e.readonly},on:{click:e.selectUploadFile}},[t("i",{staticClass:"fas fa-fw fa-upload"}),e._v(e._s(e.labels.button_upload)+"\n                    ")]),e._v(" "),t("button",{staticClass:"btn btn-sm btn-tertiary dropdown-toggle dropdown-toggle-split",attrs:{"aria-expanded":"false","aria-haspopup":"true","data-bs-toggle":"dropdown",name:"file-upload-dropdown",type:"button",disabled:e.readonly}},[t("span",{staticClass:"sr-only"},[e._v(e._s(e.labels.button_upload_options))])]),e._v(" "),t("div",{staticClass:"dropdown-menu"},[t("button",{staticClass:"btn dropdown-item",attrs:{type:"button",readonly:e.readonly,"data-patience":"virtue","data-bs-toggle":"modal","data-bs-target":"#resourcesModal","data-modal-title":e.labels.modal_title_files,"data-modal-dialog-class":"modal-xl"},on:{click:function(t){return e.selectServerFile(t)}}},[t("i",{staticClass:"fas fa-fw fa-th"}),e._v("\n                            "+e._s(e.labels.button_from_library)+"\n                        ")]),e._v(" "),e.filenameData?t("a",{staticClass:"dropdown-item",attrs:{href:e.attributesLink+"?file="+e.filenameData,target:"_blank"}},[t("i",{staticClass:"fas fa-fw fa-info-circle"}),e._v("\n                            "+e._s(e.labels.button_edit_attributes)+"\n                            "),e._m(0)]):e._e()])]),e._v(" "),t("div",{staticClass:"btn-group me-2",attrs:{role:"group"}},[1==e.inFilelist?t("button",{staticClass:"btn btn-sm btn-tertiary",attrs:{type:"button",disabled:e.isFirstInFilelist||e.readonly},on:{click:e.onMoveFileUp}},[t("i",{staticClass:"fas fa-fw fa-chevron-up"}),e._v("\n                        "+e._s(e.labels.button_move_up)+"\n                    ")]):e._e(),e._v(" "),1==e.inFilelist?t("button",{staticClass:"btn btn-sm btn-tertiary",attrs:{type:"button",disabled:e.isLastInFilelist||e.readonly},on:{click:e.onMoveFileDown}},[t("i",{staticClass:"fas fa-fw fa-chevron-down"}),e._v("\n                        "+e._s(e.labels.button_move_down)+"\n                    ")]):e._e(),e._v(" "),t("button",{staticClass:"btn btn-sm btn-hidden-danger",attrs:{type:"button",disabled:e.readonly},on:{click:e.onRemoveFile}},[t("i",{staticClass:"fas fa-fw fa-trash"}),e._v(" "+e._s(e.labels.button_remove)+"\n                    ")])])]),e._v(" "),e.progress>0?t("div",{staticClass:"progress mt-3"},[t("div",{staticClass:"progress-bar progress-bar-striped progress-bar-animated",style:`width: ${e.progress}%`,attrs:{role:"progressbar","aria-valuenow":e.progress,"aria-valuemin":"0","aria-valuemax":"100"}})]):e._e()])]),e._v(" "),t("input",{ref:"selectFile",staticClass:"editor__file--upload",attrs:{title:e.name+" filename",name:e.fieldName,tabindex:"-1",type:"file",accept:e.acceptedExtensions},on:{change:function(t){return e.uploadFile(t.target.files[0])}}})],1)};Bt._withStripped=!0;var Pt={name:"EditorFile",mixins:[$e],props:{name:String,filename:String,title:String,directory:String,media:String,csrfToken:String,labels:Object,filelist:String,extensions:Array,inFilelist:Boolean,isFirstInFilelist:Boolean,isLastInFilelist:Boolean,attributesLink:String,required:Boolean,readonly:Boolean,errormessage:String|Boolean,pattern:String|Boolean,placeholder:String|Boolean},data(){return{isDragging:!1,dragCount:0,progress:0,filenameData:this.filename,titleData:this.title}},computed:{fieldName(){return this.name+"[]"},token(){return this.csrfToken},acceptedExtensions(){return this.extensions.map((e=>"."+e)).join()},getPlaceholder(){return this.placeholder?this.placeholder:this.labels.placeholder_title}},methods:{onMoveFileDown(){this.$emit("moveFileDown",this)},onMoveFileUp(){this.$emit("moveFileUp",this)},onRemoveFile(){this.filenameData="",this.titleData="",this.$emit("remove",this)},selectUploadFile(){this.$refs.selectFile.click()},generateModalContent(e){let t="",a=e[0].value,s=e[0].base_url_path,i={jpg:"fa-file-image",jpeg:"fa-file-image",png:"fa-file-image",webp:"fa-file-image",svg:"fa-file-image",gif:"fa-file-image",pdf:"fa-file-pdf",doc:"fa-file-word",docx:"fa-file-word",txt:"fa-file-alt",csv:"fa-file-csv",xls:"fa-file-excel",xlsx:"fa-file-excel",pptx:"fa-file-powerpoint",html:"fa-file-code",mp3:"fa-music",mp4:"fa-video",mov:"fa-video",avi:"fa-video",webm:"fa-video",zip:"fa-file-archive",rar:"fa-file-archive",gz:"fa-file-archive"},l='<div class="row row-cols-1 row-cols-sm-2 row-cols-lg-4 g-2">';if(a.includes("/")){let a=e[0].value.split("/");a.pop(),a.pop(),t=a.join("/");let i=`${s}?location=${t}&type=files`;""!=t&&(l+=`\n                    <div class="col">\n                        <div class="card h-100">\n                            <a href="${i}" class="directory d-flex align-items-center justify-content-center w-100 flex-grow-1 text-decoration-none">\n                                <i class="fas fa-solid fa-level-up-alt fa-3x me-0 align-self-center"></i>\n                            </a>\n                            <div class="card-body px-2 flex-grow-0 border-top border-very-light-border">\n                                <div class="form-check ps-0">\n                                    <span class="form-check-label d-inline fs-6 fw-normal d-block"">\n                                        ../${t}\n                                    </span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>`)}return e.forEach(((e,a)=>{let n=e.text.split(".").pop().toLowerCase();if("directories"==e.group){t=e.value,l+=`\n                        <div class="col">\n                            <div class="card h-100">\n                                <a href="${`${s}?location=${t}&type=files`}" class="directory d-flex justify-content-center w-100 flex-grow-1 text-decoration-none align-self-center">\n                                    <i class="fas fa-solid fa-folder fa-5x me-0 align-self-center"></i>\n                                </a>\n\x3c!--                                    <i class="fas fa-solid fa-folder fa-5x me-0 align-self-center"></i>--\x3e\n                                <div class="card-body px-2 flex-grow-0 border-top border-very-light-border">\n                                    <div class="form-check ps-0">\n                                        <label class="form-check-label d-inline fs-6 fw-normal d-block" for="flexCheckDefault-${a}">\n                                            ${e.text}\n                                        </label>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    `}else l+=`\n                        <div class="col">\n                            <div class="card h-100">\n                                <i class="d-flex align-items-center justify-content-center w-100 flex-grow-1 text-decoration-none fas fa-solid ${i[n]??"fa-file"} fa-5x me-0 align-self-center"></i>\n                                <div class="card-body px-2 flex-grow-0 border-top border-very-light-border">\n                                    <div class="form-check ps-0">\n                                        <input class="form-check-input" type="checkbox" value="${e.value}" id="flexCheckDefault-${a}">\n                                        <label class="form-check-label d-inline fs-6 fw-normal d-block" for="flexCheckDefault-${a}">\n                                            ${e.text}\n                                        </label>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    `})),l+="</div>",l},selectServerFile(e){let t=this;l().get(this.filelist).then((a=>{let i=this.filterServerFiles(a.data);var l=document.getElementById("resourcesModal"),n=document.querySelector("#resourcesModal"),r=s.u_.getOrCreateInstance(n),o=e.target,d=o.getAttribute("data-modal-title"),c=l.querySelector(".modal-dialog"),u=l.querySelector(".modal-title"),m=l.querySelector(".modal-body"),p=l.querySelector(".modal-footer"),f=this.generateModalContent(i);c.classList.add(o.getAttribute("data-modal-dialog-class")),u.innerHTML=d,m.innerHTML=f,p.remove(),l.querySelectorAll(".directory").forEach((e=>{e.addEventListener("click",(a=>{a.preventDefault(),this.filelist=e.href,t.filelist=e.href,this.navigateDirectory(u)}))})),m.querySelectorAll(".form-check-input").forEach((e=>{e.addEventListener("click",(()=>{r.hide()}))})),l.addEventListener("hidden.bs.modal",(()=>{if(m.querySelector("input[type=checkbox]:checked")){var e=m.querySelector("input[type=checkbox]:checked").value;t.filenameData=e.replace("files/","")}pt(this.labels)}),{once:!0}),mt()})).catch((e=>{console.warn(e),mt()}))},navigateDirectory(){let e=this;l().get(this.filelist).then((t=>{let a=this.filterServerFiles(t.data),i="";i=a[0].value.split("/"),i.pop(),i=i.join("/");var l=document.getElementById("resourcesModal"),n=document.querySelector("#resourcesModal"),r=s.u_.getOrCreateInstance(n),o=l.querySelector(".modal-title"),d=l.querySelector(".modal-body"),c=this.generateModalContent(a);o.innerHTML='Select a file: <i class="fas fa-solid fa-folder-tree"></i>'+i,d.innerHTML=c,l.querySelectorAll(".directory").forEach((t=>{t.addEventListener("click",(a=>{a.preventDefault(),this.filelist=t.href,e.filelist=t.href,this.navigateDirectory(a)}))})),d.querySelectorAll(".form-check-input").forEach((e=>{e.addEventListener("click",(()=>{r.hide()}))}))})).catch((e=>{console.warn(e),mt()}))},onDragEnter(e){return e.preventDefault(),this.dragCount++,this.isDragging=!0,!1},onDragLeave(e){e.preventDefault(),this.dragCount--,this.dragCount<=0&&(this.isDragging=!1)},onDrop(e){e.preventDefault(),e.stopPropagation(),this.isDragging=!1,this.dragCount=0;const t=e.dataTransfer.files[0];return this.uploadFile(t)},uploadFile(e){const t=new FormData,a={onUploadProgress:e=>{const t=Math.round(100*e.loaded/e.total);this.progress=t},headers:{"Content-Type":"multipart/form-data"}};t.append("file",e),t.append("_csrf_token",this.token),l().post(this.directory,t,a).then((e=>{this.filenameData=e.data,this.progress=0})).catch((e=>{const t=e.response.data;let a="unknown error";"string"==typeof t||t instanceof String?a=t:t.error&&t.error.message&&(a=t.error.message),window.alert(a+"<br>File did not upload."),console.warn(e),this.progress=0}))},filterServerFiles(e){let t=this;return e.filter((function(e){let a=/(?:\.([^.]+))?$/.exec(e.text)[1];return"directories"==e.group?e:t.extensions.includes(a)}))}}},Lt=(0,y.Z)(Pt,Bt,[function(){var e=this._self._c;return e("small",{staticClass:"dim"},[e("i",{staticClass:"fas fa-external-link-square-alt"})])}],!1,null,null,null).exports,Tt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"editor-filelist"},[e._l(e.containerFiles,(function(a,s){return t("div",{key:a.id,staticClass:"form-fieldsgroup"},[t("editor-file",{attrs:{filename:a.filename,thumbnail:a.thumbnail,title:a.title,"attributes-link":e.attributesLink,media:a.media,directory:e.directory,filelist:e.filelist,"csrf-token":e.csrfToken,labels:e.labels,"in-filelist":!0,name:e.fieldName(s),extensions:e.extensions,"is-first-in-filelist":e.isFirstInFilelist(s),"is-last-in-filelist":e.isLastInFilelist(s),readonly:e.readonly},on:{remove:e.onRemoveFile,moveFileUp:e.onMoveFileUp,moveFileDown:e.onMoveFileDown}})],1)})),e._v(" "),0===e.containerFiles.length?t("div",[t("input",{attrs:{name:e.name,value:"",type:"hidden"}})]):e._e(),e._v(" "),t("button",{staticClass:"btn btn-tertiary",attrs:{type:"button",disabled:!e.allowMore},on:{click:e.addFile}},[t("i",{staticClass:"fas fa-fw fa-plus"}),e._v("\n        "+e._s(e.labels.add_new_file)+"\n    ")])],2)};Tt._withStripped=!0;var qt={name:"EditorFile",components:{"editor-file":Lt},props:{files:Array,directory:String,name:String,filelist:String,csrfToken:String,labels:Object,extensions:Array,attributesLink:String,limit:Number,readonly:Boolean},data:function(){let e=0,t=this.files;return t.forEach((function(t,a,s){s[a].id=a,e++})),{counter:e,containerFiles:t}},computed:{allowMore:function(){return!this.readonly&&this.containerFiles.length<this.limit}},methods:{isFirstInFilelist(e){return 0===e},isLastInFilelist(e){return e===this.containerFiles.length-1},getFieldNumberFromElement(e){return parseInt([...e.fieldName.matchAll(/\d+/g)].splice(-1).pop()[0])},onMoveFileDown(e){let t=this.getFieldNumberFromElement(e);if(t<this.containerFiles.length-1){let e=this.containerFiles[t],a=this.containerFiles[t+1];this.containerFiles.splice(t,2,a,e)}},onMoveFileUp(e){let t=this.getFieldNumberFromElement(e);if(t>0){let e=this.containerFiles[t],a=this.containerFiles[t-1];this.containerFiles.splice(t-1,2,e,a)}},onRemoveFile(e){let t=this.getFieldNumberFromElement(e);this.containerFiles.splice(t,1)},fieldName(e){return this.name+"["+e+"]"},addFile(){let e={inFilelist:!0,directory:this.directory,name:this.name,filelist:this.filelist,csrfToken:this.csrfToken,labels:this.labels,thumbnail:"",extensions:this.extensions,id:this.counter};this.counter++,this.containerFiles.push(e)}}},Mt=(0,y.Z)(qt,Tt,[],!1,null,null,null).exports,Zt=function(){var e=this,t=e._self._c;return t("div",{ref:"collectionContainer",staticClass:"collection-container",attrs:{id:e.name}},[t("div",{staticClass:"expand-buttons"},[t("label",[e._v(e._s(e.labels.field_label)+":")]),e._v(" "),t("div",{staticClass:"btn-group",attrs:{role:"group"}},[t("button",{staticClass:"btn btn-secondary btn-sm collection-expand-all"},[t("i",{staticClass:"fas fa-fw fa-expand-alt"}),e._v("\n                "+e._s(e.labels.expand_all)+"\n            ")]),e._v(" "),t("button",{staticClass:"btn btn-secondary btn-sm collection-collapse-all"},[t("i",{staticClass:"fas fa-fw fa-compress-alt"}),e._v("\n                "+e._s(e.labels.collapse_all)+"\n            ")])])]),e._v(" "),e._l(e.elements,(function(a){return t("div",{key:a.hash,staticClass:"collection-item",class:{collapsed:"expanded"!==e.variant}},[t("div",{staticClass:"d-block summary"},[t("div",{staticClass:"card-header d-flex align-items-center"},[t("i",{staticClass:"card-marker-caret fa fa-caret-right"}),e._v(" "),t("span",{staticClass:"badge bg-secondary inline",attrs:{title:a.label}},[t("i",{class:[a.icon,"fas"]})]),e._v(" "),t("div",{staticClass:"collection-item-title",attrs:{"data-label":a.label}},[e._v("\n                    "+e._s(a.label)+"\n                ")]),e._v(" "),t(e.compile(a.buttons),{tag:"div"})],1)]),e._v(" "),t("div",{staticClass:"card details"},[t(e.compile(a.content),{tag:"div",staticClass:"card-body"})],1)])})),e._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-12"},[e.templates.length>1?t("p",{staticClass:"mt-4 mb-1"},[e._v(e._s(e.labels.add_collection_item)+":")]):e._e(),e._v(" "),e.templates.length>1?t("div",{staticClass:"dropdown"},[t("button",{staticClass:"btn btn-secondary dropdown-toggle",attrs:{id:e.name+"-dropdownMenuButton",disabled:!e.allowMore,type:"button","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t("i",{staticClass:"fas fa-fw fa-plus"}),e._v(" "+e._s(e.labels.select)+"\n                ")]),e._v(" "),t("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":e.name+"-dropdownMenuButton"}},e._l(e.templates,(function(a){return t("a",{key:a.label,staticClass:"dropdown-item",attrs:{"data-template":a.label},on:{click:function(t){return e.addCollectionItem(t)}}},[t("i",{class:[a.icon,"fas fa-fw"]}),e._v("\n                        "+e._s(a.label)+"\n                    ")])})),0)]):t("button",{staticClass:"btn btn-secondary btn-small",attrs:{type:"button",disabled:!e.allowMore,"data-template":e.templates[0].label},on:{click:function(t){return e.addCollectionItem(t)}}},[t("i",{class:[e.templates[0].icon,"fas fa-fw"]}),e._v("\n                "+e._s(e.labels.add_collection_item)+"\n            ")])])])],2)};Zt._withStripped=!0;var Ot=a(81317),Nt={name:"EditorCollection",props:{name:{type:String,required:!0},templates:{type:Array,required:!0},existingFields:{type:Array},labels:{type:Object,required:!0},limit:{type:Number,required:!0},variant:{type:String,required:!0}},data(){return{elements:this.existingFields,counter:this.existingFields.length,templateSelectName:"templateSelect"+this.id,templateSelectOptions:[],selector:{collectionContainer:"#"+this.name,item:" .collection-item",remove:" .action-remove-collection-item",moveUp:" .action-move-up-collection-item",moveDown:" .action-move-down-collection-item",expandAll:" .collection-expand-all",collapseAll:" .collection-collapse-all",editor:" #editor"}}},computed:{initialSelectValue(){return this.templateSelectOptions[0].key},allowMore:function(){return this.counter<this.limit}},mounted(){this.setAllButtonsStates(window.$(this.$refs.collectionContainer));let e=this;function t(e){const t=r()(e).find(".collection-item-title").first(),a=r()(e).find('textarea,input[type="text"]').first();var s=document.createElement("span");s.innerHTML=r()(a).val()?r()(a).val():t.attr("data-label"),t.html(s.innerText)}window.$(document).on("click",e.selector.collectionContainer+" .collection-item .summary",(function(t){t.preventDefault(),e.getCollectionItemFromPressedButton(this).toggleClass("collapsed")})),window.$(document).on("click",e.selector.collectionContainer+e.selector.remove,(function(t){t.preventDefault(),t.stopPropagation();let a=window.$(this).closest(e.selector.collectionContainer),s=this;r()("#modalButtonAccept").on("click",(function(){e.getCollectionItemFromPressedButton(s).remove()})),e.setAllButtonsStates(a),e.counter--})),window.$(document).on("click",e.selector.collectionContainer+e.selector.moveUp,(function(t){t.preventDefault(),t.stopPropagation();let a=e.getCollectionItemFromPressedButton(this),s=e.getPreviousCollectionItem(a);window.$(a).after(s),e.setButtonsState(a),e.setButtonsState(s)})),window.$(document).on("click",e.selector.collectionContainer+e.selector.moveDown,(function(t){t.preventDefault(),t.stopPropagation();let a=e.getCollectionItemFromPressedButton(this),s=e.getNextCollectionItem(a);window.$(a).before(s),e.setButtonsState(a),e.setButtonsState(s)})),window.$(document).on("click",e.selector.collectionContainer+e.selector.expandAll,(function(t){t.preventDefault();r()(t.target).closest(e.selector.collectionContainer).find(".collection-item").removeClass("collapsed")})),window.$(document).on("click",e.selector.collectionContainer+e.selector.collapseAll,(function(t){t.preventDefault();r()(t.target).closest(e.selector.collectionContainer).find(".collection-item").addClass("collapsed")})),r()(document).ready((function(){r().each(window.$(e.selector.collectionContainer+e.selector.item),(function(){t(this)})),window.$(e.selector.collectionContainer).on("keyup change",e.selector.item,(function(){t(this)}))}))},updated(){this.setAllButtonsStates(window.$(this.$refs.collectionContainer))},methods:{compile(e){return c.ZP.compile(e)},setAllButtonsStates(e){let t=this;e.children(t.selector.item).each((function(){t.setButtonsState(window.$(this))}))},setButtonsState(e){e.find(this.selector.moveUp).first().removeAttr("disabled"),e.find(this.selector.moveDown).first().removeAttr("disabled"),this.getPreviousCollectionItem(e)||e.find(this.selector.moveUp).first().attr("disabled","disabled"),this.getNextCollectionItem(e)||e.find(this.selector.moveDown).first().attr("disabled","disabled")},getPreviousCollectionItem(e){return 0!==e.prev(".collection-item").length&&e.prev(".collection-item")},getNextCollectionItem(e){return 0!==e.next(".collection-item").length&&e.next(".collection-item")},getCollectionItemFromPressedButton(e){return window.$(e).closest(".collection-item").last()},addCollectionItem(e){let t=r().extend(!0,{},this.getSelectedTemplate(e));const a=Ot();t.content=t.content.replace(new RegExp(t.hash,"g"),a),t.hash=a,this.elements.push(t),this.counter++},getSelectedTemplate(e){let t=(r()(e.target).attr("data-template")?r()(e.target):r()(e.target).closest("[data-template]")).attr("data-template");return this.templates.find((e=>e.label===t))}}},zt=(0,y.Z)(Nt,Zt,[],!1,null,null,null).exports,Ut=function(){var e=this,t=e._self._c;return t("div",[t("div",{class:["custom-control","form-"+e.mode,"form-check","switch"==e.mode?"form-switch":""]},[t("input",{staticClass:"form-check-input",attrs:{id:e.id,name:e.name,type:"checkbox",readonly:e.readonly},domProps:{checked:e.value},on:{change:function(t){e.liveValue=t.target.checked}}}),e._v(" "),t("label",{staticClass:"custom-control-label form-label",attrs:{for:e.name}},[e._v(e._s(e.label))]),e._v(" "),t("input",{attrs:{type:"hidden",name:e.name},domProps:{value:e.liveValue}})])])};Ut._withStripped=!0;var Rt={name:"EditorCheckbox",props:{value:{type:Boolean},name:{type:String},id:{type:String},required:{type:Boolean},readonly:{type:Boolean},label:{type:String},mode:{type:String}},data(){return{liveValue:this.value}}},Vt=(0,y.Z)(Rt,Ut,[],!1,null,null,null).exports;c.ZP.component("editor-checkbox",Vt),c.ZP.component("editor-date",Me),c.ZP.component("editor-embed",ot),c.ZP.component("editor-email",wt),c.ZP.component("editor-password",Dt),c.ZP.component("editor-html",Je),c.ZP.component("editor-image",gt),c.ZP.component("editor-imagelist",bt),c.ZP.component("editor-file",Lt),c.ZP.component("editor-filelist",Mt),c.ZP.component("editor-markdown",Xe),c.ZP.component("editor-number",Ve),c.ZP.component("editor-select",ze),c.ZP.component("editor-slug",Pe),c.ZP.component("editor-text",je),c.ZP.component("editor-textarea",tt),c.ZP.component("editor-collection",zt),c.ZP.component("editor-set",Set),c.ZP.component("general-language",At),c.ZP.component("theme-select",$t);const Ht="editor";document.getElementById(Ht)&&new c.ZP({store:Ie,el:"#editor",name:"BoltEditor"}),c.ZP.component("field-password",Dt),c.ZP.component("editor-text",je);const Yt="login-form";document.getElementById(Yt)&&new c.ZP({el:"#"+Yt,name:"BoltLogin",components:{"editor-text":je,"editor-password":Dt}}),(0,a(18515).Z)("ctrl+s, command+s",(function(){return!r()("form#editcontent")||(r()("form#editcontent button[name=save]").click(),!1)}));var Gt=a(42152),Jt=a.n(Gt);window.assetsVersion="5.1.99.8",r()(document).ready((function(){r()("html").addClass("js"),r()(".admin__sidebar").addClass("admin__sidebar--is-collapsed"),r()(".admin-sidebar-toggler").on("click",(function(){r()(".admin__sidebar").hasClass("admin__sidebar--is-collapsed")?(r()(".admin__sidebar").addClass("admin__sidebar--is-expanded").removeClass("admin__sidebar--is-collapsed").removeClass("d-none"),r()(this).toggleClass("is-active")):(r()(".admin__sidebar").addClass("admin__sidebar--is-collapsed").removeClass("admin__sidebar--is-expanded").removeClass("d-none"),r()(this).toggleClass("is-active"))}));let e=location.href.replace(/\/$/,"");if(location.hash){const t=e.split("#");let a=document.querySelector('a[href="#'+t[1]+'"]');s.OK.getOrCreateInstance(a).show(),e=location.href.replace(/\/#/,"#"),history.replaceState(null,null,e),setTimeout((()=>{r()(window).scrollTop(0)}),50)}function t(e){const t=r()(e.target).attr("data-errormessage");e.target.setCustomValidity(t)}function a(e){e.target.setCustomValidity("")}r()('a[data-bs-toggle="tab"]').on("click",(function(){let t;const a=r()(this).attr("href");t=e.split("#")[0]+a,history.replaceState(null,null,t)})),r()(".datetime-relative").each((function(){r()(this).text(u.ou.fromISO(r()(this).text()).toRelative())})),[].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]')).map((function(e){return new s.J2(e)})),r()('#editor button[type="submit"]').click((function(){r()("input:invalid").each((function(){let e=r()(this).closest(".tab-pane").attr("id");if(null!=e){let t=document.querySelector('.nav a[href="#'+e+'"]');s.OK.getOrCreateInstance(t).show()}return!1}))})),r()("[data-readonly]").on("keydown paste",(function(e){e.preventDefault()})),r()(".editor--date").siblings().prop("readonly",!1).attr("data-readonly","readonly"),r()(".editor--date").on("change",(e=>{const t=r()(e.target).parent().find('input[data-readonly="readonly"]');t.val()?t[0].setCustomValidity(""):t[0].setCustomValidity("Please fill out this field.")})),r()("[data-errormessage]").on("invalid",t),r()("[data-errormessage]").on("input",a),r()(".editor--date").each((function(){let e=r()(this).siblings();const s=r()(this).attr("data-errormessage");e.each((function(){r()(this).attr("data-errormessage",s).on("invalid",t).on("input",a)}))})),new(Jt())("*[data-clipboard-text]"),window.$(document).on("click",'[data-bs-toggle="modal"]',(function(e){let t=document.getElementById("resourcesModal"),a=document.getElementById("modalButtonAccept"),s=e.currentTarget.getAttribute("data-modal-title"),i=t.querySelector(".modal-title"),l=t.querySelector(".modal-body"),n=e.currentTarget.getAttribute("data-modal-body"),r=e.currentTarget.getAttribute("href");i.innerHTML=s,l.innerHTML=n,null!=r&&null!=l&&l.remove(),a.addEventListener("click",(()=>{r&&(window.location.href=r)}),{once:!0}),t.addEventListener("hidden.bs.modal",(()=>{pt("")}),{once:!0})}))}));let Kt=r()("#editcontent"),Wt=Kt.data("record"),Xt=r()('button[name="save"]');Wt=JSON.stringify(Wt),r()(document).ready((function(){let e=!1;function t(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Error",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Failed trying to save!",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"warning",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Notification",l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:l,n="alert-"+a;r()(".admin__notifications").replaceWith(l),r()("#toastTitle").addClass(["toast-header",n]),r()("#toastNotification").append(i),r()("#toastType").append(e),r()("#toastBody").append(t),r()(document).ready((function(){[].slice.call(document.querySelectorAll(".toast")).map((function(e){return new s.FN(e,[])})).forEach((function(e){e.show()}))}))}r()(Kt).change((function(){e=!0})),window.onbeforeunload=function(){if(e)return"You have unsaved changes on this page. Do you want to leave this page and discard your changes or stay on this page?"},this.href=window.location.pathname;let a=this.href.substring(this.href.lastIndexOf("/")+1),i=window.location.pathname;Xt.on("click",(function(){r().ajax({type:"POST",link:i,data:r()(Kt).serialize(),beforeSend:function(){!function(e){const t=e.find("i"),a="fas fa-w fa-cog fa-spin "+(t.attr("class").match(/[mp][tblrxy]-[0-5]/i)||"");e.attr("data-original-class",t.attr("class")),t.attr("class",a),window.setTimeout((function(){e.attr("disabled",!0)}),50)}(Xt)},complete:function(){mt()},success:function(e,s){Wt?window.location.pathname==="/bolt/duplicate/"+a?window.location.replace(e.url):"success"===s?(t(e.type,e.message,e.status,e.notification,'<div class="admin__notifications"><div class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-delay="6000"><div id="toastTitle" ><strong id="toastNotification" class="mr-auto"></strong><small id="toastType"></small><button class="ml-2 mb-1 close" aria-label="Close" data-dismiss="toast" type="button"><span aria-hidden="true">&times;</span></button></div><div id="toastBody" class="toast-body"></div></div></div>'),r()('div[class="admin__header--title-inner"]').html(e.title)):"success"!==e.status&&t():window.location.replace(e.url)},error:function(e,a,s){console.log(a,s),t()}}),e=!1}))})),l().defaults.headers.common={accept:"application/vnd.api+json"}},79948:function(e,t,a){var s={"./ar-dz.js":74468,"./ar.js":28696,"./at.js":6204,"./az.js":77712,"./be.js":71836,"./bg.js":48082,"./bn.js":16273,"./bs.js":36302,"./cat.js":24375,"./ckb.js":11522,"./cs.js":34508,"./cy.js":547,"./da.js":29751,"./de.js":72805,"./default.js":63359,"./eo.js":8814,"./es.js":80969,"./et.js":87230,"./fa.js":66942,"./fi.js":65572,"./fo.js":17141,"./fr.js":80401,"./ga.js":58757,"./gr.js":73300,"./he.js":92036,"./hi.js":10184,"./hr.js":66746,"./hu.js":22833,"./hy.js":91938,"./id.js":88318,"./index.js":17908,"./is.js":74732,"./it.js":29088,"./ja.js":46741,"./ka.js":16638,"./km.js":4760,"./ko.js":1844,"./kz.js":57393,"./lt.js":76625,"./lv.js":87826,"./mk.js":14019,"./mn.js":31989,"./ms.js":85671,"./my.js":37767,"./nl.js":36679,"./nn.js":71402,"./no.js":7530,"./pa.js":96407,"./pl.js":79323,"./pt.js":6924,"./ro.js":1375,"./ru.js":88809,"./si.js":58293,"./sk.js":51781,"./sl.js":37e3,"./sq.js":2569,"./sr-cyr.js":29313,"./sr.js":31438,"./sv.js":19144,"./th.js":3845,"./tr.js":54539,"./uk.js":31193,"./uz.js":62738,"./uz_latn.js":69294,"./vn.js":59467,"./zh-tw.js":27821,"./zh.js":10799};function i(e){var t=l(e);return a(t)}function l(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}i.keys=function(){return Object.keys(s)},i.resolve=l,e.exports=i,i.id=79948},62562:function(){}},a={};function s(e){var i=a[e];if(void 0!==i)return i.exports;var l=a[e]={id:e,loaded:!1,exports:{}};return t[e].call(l.exports,l,l.exports,s),l.loaded=!0,l.exports}s.m=t,e=[],s.O=function(t,a,i,l){if(!a){var n=1/0;for(c=0;c<e.length;c++){a=e[c][0],i=e[c][1],l=e[c][2];for(var r=!0,o=0;o<a.length;o++)(!1&l||n>=l)&&Object.keys(s.O).every((function(e){return s.O[e](a[o])}))?a.splice(o--,1):(r=!1,l<n&&(n=l));if(r){e.splice(c--,1);var d=i();void 0!==d&&(t=d)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[a,i,l]},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,{a:t}),t},s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},s.p="/assets/",function(){var e={413:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var i,l,n=a[0],r=a[1],o=a[2],d=0;if(n.some((function(t){return 0!==e[t]}))){for(i in r)s.o(r,i)&&(s.m[i]=r[i]);if(o)var c=o(s)}for(t&&t(a);d<n.length;d++)l=n[d],s.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return s.O(c)},a=self.webpackChunkbolt=self.webpackChunkbolt||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var i=s.O(void 0,[469],(function(){return s(44018)}));i=s.O(i)}();